<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.32">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>TruckerWeather</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-6561bbde787c299e21493071c8edc6ff.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-2cf61600f1a1200c03fb30dd13fda91b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean",
  "openSidebar": false
}
</script><script async="" src="https://hypothes.is/embed.js"></script><script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
</head>
<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">TruckerWeather</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="database-connections" class="level2"><h2 class="anchored" data-anchor-id="database-connections">Database Connections</h2>
<section id="mssql" class="level3"><h3 class="anchored" data-anchor-id="mssql">MSSQL</h3>
<div class="cell">
<details class="code-fold"><summary>Connects to a dockerized mssql database.</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Set up the connection</span></span>
<span><span class="va">mssql_con</span> <span class="op">&lt;-</span> <span class="fu">dbConnect</span><span class="op">(</span></span>
<span>  <span class="fu">odbc</span><span class="fu">::</span><span class="fu"><a href="https://odbc.r-dbi.org/reference/dbConnect-OdbcDriver-method.html">odbc</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  driver <span class="op">=</span> <span class="st">"ODBC Driver 18 for SQL Server"</span>, </span>
<span>  server <span class="op">=</span> <span class="st">"localhost,1433"</span>,               </span>
<span>  database <span class="op">=</span> <span class="st">"TestDB"</span>,                    </span>
<span>  uid <span class="op">=</span> <span class="st">"sa"</span>,                             </span>
<span>  pwd <span class="op">=</span> <span class="st">"MyStr@ngPassw0rd11"</span>,             </span>
<span>  TrustServerCertificate <span class="op">=</span> <span class="st">"yes"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test the connection</span></span>
<span><span class="co">#dbListTables(con)  # List tables in the database to verify the connection</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="duckdb" class="level3"><h3 class="anchored" data-anchor-id="duckdb">DuckDB</h3>
<div class="code-fold-flex">
<div class="cell">
<details class="code-fold"><summary>Establish a DuckDB, embedded database connection.</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">duckdb_con</span> <span class="op">&lt;-</span> <span class="fu">dbConnect</span><span class="op">(</span><span class="fu">duckdb</span><span class="fu">::</span><span class="fu"><a href="https://r.duckdb.org/reference/duckdb.html">duckdb</a></span><span class="op">(</span></span>
<span>     config <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>max_memory <span class="op">=</span> <span class="st">'24GB'</span><span class="op">)</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section></section><section id="custom-output-tools" class="level2"><h2 class="anchored" data-anchor-id="custom-output-tools">Custom Output Tools</h2>
<section id="tables" class="level3"><h3 class="anchored" data-anchor-id="tables">Tables</h3>
<div class="code-fold-flex">
<div class="cell">
<details class="code-fold"><summary>Table formatting code.</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Table theming script</span></span>
<span></span>
<span><span class="va">eval_palette</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">pal_name</span>, <span class="va">n</span> <span class="op">=</span> <span class="fl">10</span>, <span class="va">pal_type</span>, <span class="va">direction</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="kw">if</span> <span class="op">(</span><span class="va">pal_type</span> <span class="op">==</span> <span class="st">"c"</span><span class="op">)</span> <span class="op">{</span></span>
<span>          <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu">paletteer_c</span><span class="op">(</span><span class="va">pal_name</span>, <span class="va">n</span>, <span class="va">direction</span><span class="op">)</span><span class="op">)</span></span>
<span>     <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">pal_type</span> <span class="op">==</span> <span class="st">"d"</span><span class="op">)</span> <span class="op">{</span></span>
<span>          <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu">paletteer_d</span><span class="op">(</span><span class="va">pal_name</span>, <span class="va">n</span>, <span class="va">direction</span><span class="op">)</span><span class="op">)</span></span>
<span>     <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">pal_type</span> <span class="op">==</span> <span class="st">"dynamic"</span><span class="op">)</span> <span class="op">{</span></span>
<span>          <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu">paletteer_dynamic</span><span class="op">(</span><span class="va">pal_name</span>, <span class="va">n</span>, <span class="va">direction</span><span class="op">)</span><span class="op">)</span></span>
<span>     <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">r_table_theming</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">r_df</span>,</span>
<span>                            <span class="va">title</span>,</span>
<span>                            <span class="va">subtitle</span>,</span>
<span>                            <span class="va">footnotes_df</span>,</span>
<span>                            <span class="va">source_note</span>,</span>
<span>                            <span class="va">pal_df</span>,</span>
<span>                            <span class="va">multiline_feet</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            <span class="va">tbl_font_size</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            <span class="va">color_by_columns</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            <span class="va">row_name_col</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            <span class="va">do_col_labels</span> <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                            <span class="va">target_everything</span> <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">row_name_col</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>          <span class="va">r_table</span> <span class="op">&lt;-</span> <span class="fu">gt</span><span class="op">(</span><span class="va">r_df</span><span class="op">)</span></span>
<span>          </span>
<span>     <span class="op">}</span> <span class="kw">else</span><span class="op">{</span></span>
<span>          <span class="va">r_table</span> <span class="op">&lt;-</span> <span class="fu">gt</span><span class="op">(</span><span class="va">r_df</span>,</span>
<span>                        rowname_col <span class="op">=</span> <span class="va">row_name_col</span>,</span>
<span>                       <span class="op">)</span></span>
<span>     <span class="op">}</span></span>
<span>     </span>
<span>     <span class="va">r_table</span> <span class="op">&lt;-</span> <span class="va">r_table</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu">tab_header</span><span class="op">(</span>title <span class="op">=</span> <span class="va">title</span>, subtitle <span class="op">=</span> <span class="va">subtitle</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">r_df</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="va">target_everything</span> <span class="op">==</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>          <span class="co"># Formatted rows are added to the accumulator, </span></span>
<span>          <span class="co"># building up to the final result</span></span>
<span>          <span class="va">r_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">pal_df</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>               <span class="fu">reduce</span><span class="op">(</span>\<span class="op">(</span><span class="va">acc</span>, <span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>                    <span class="fu">data_color</span><span class="op">(</span><span class="va">acc</span>,</span>
<span>                               palette <span class="op">=</span> <span class="va">pal_df</span><span class="op">$</span><span class="va">pals</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                               columns <span class="op">=</span> <span class="va">pal_df</span><span class="op">$</span><span class="va">cols</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>               <span class="op">}</span>, .init <span class="op">=</span> <span class="va">r_table</span><span class="op">)</span></span>
<span>     <span class="op">}</span></span>
<span>     <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">r_df</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="va">target_everything</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span></span>
<span>          <span class="co"># Formatted columns are added to the accumulator, </span></span>
<span>          <span class="co"># building up to the final result</span></span>
<span>          <span class="va">r_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">pal_df</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>               <span class="fu">reduce</span><span class="op">(</span>\<span class="op">(</span><span class="va">acc</span>, <span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>                    <span class="fu">data_color</span><span class="op">(</span></span>
<span>                         <span class="va">acc</span>,</span>
<span>                         columns <span class="op">=</span> <span class="va">color_by_columns</span>,</span>
<span>                         palette <span class="op">=</span> <span class="va">pal_df</span><span class="op">$</span><span class="va">pals</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                         target_columns <span class="op">=</span> <span class="fu">everything</span><span class="op">(</span><span class="op">)</span></span>
<span>                    <span class="op">)</span></span>
<span>               <span class="op">}</span>, .init <span class="op">=</span> <span class="va">r_table</span><span class="op">)</span></span>
<span>     <span class="op">}</span></span>
<span>     </span>
<span>     <span class="co"># Footnotes are added to the accumulator, building up to the final result</span></span>
<span>     <span class="va">r_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">footnotes_df</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu">reduce</span><span class="op">(</span>\<span class="op">(</span><span class="va">acc</span>, <span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>               <span class="fu">tab_footnote</span><span class="op">(</span></span>
<span>                    <span class="va">acc</span>,</span>
<span>                    footnote <span class="op">=</span> <span class="va">footnotes_df</span><span class="op">$</span><span class="va">notes</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                    location <span class="op">=</span> <span class="fu">cells_column_labels</span><span class="op">(</span></span>
<span>                         columns <span class="op">=</span> <span class="va">footnotes_df</span><span class="op">$</span><span class="va">locations</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>                    placement <span class="op">=</span> <span class="st">"auto"</span></span>
<span>               <span class="op">)</span></span>
<span>          <span class="op">}</span>, .init <span class="op">=</span> <span class="va">r_table</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">r_df</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="va">do_col_labels</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span></span>
<span>          <span class="va">cell_col_fills</span> <span class="op">=</span> <span class="va">pal_df</span><span class="op">$</span><span class="va">pals</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span>          <span class="co"># Formatted column labels are added to the accumulator, </span></span>
<span>          <span class="co"># building up to the final result</span></span>
<span>          <span class="va">r_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">pal_df</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>               <span class="fu">reduce</span><span class="op">(</span>\<span class="op">(</span><span class="va">acc</span>, <span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>                    <span class="fu">tab_style</span><span class="op">(</span></span>
<span>                         <span class="va">acc</span>,</span>
<span>                         style <span class="op">=</span> <span class="fu">cell_fill</span><span class="op">(</span>color <span class="op">=</span> <span class="va">cell_col_fills</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>,</span>
<span>                         locations <span class="op">=</span> <span class="fu">cells_column_labels</span><span class="op">(</span></span>
<span>                              columns <span class="op">=</span> <span class="va">pal_df</span><span class="op">$</span><span class="va">cols</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>                    <span class="op">)</span></span>
<span>               <span class="op">}</span>, .init <span class="op">=</span> <span class="va">r_table</span><span class="op">)</span></span>
<span>     <span class="op">}</span></span>
<span>     </span>
<span>     <span class="va">r_table</span> <span class="op">&lt;-</span> <span class="va">r_table</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu">tab_source_note</span><span class="op">(</span>source_note <span class="op">=</span> <span class="va">source_note</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">r_table</span> <span class="op">&lt;-</span> <span class="va">r_table</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu">tab_options</span><span class="op">(</span></span>
<span>               column_labels.padding <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>,</span>
<span>               column_labels.font.weight <span class="op">=</span> <span class="st">"bold"</span>,</span>
<span>               column_labels.background.color <span class="op">=</span> <span class="st">'#333'</span>,</span>
<span>               column_labels.border.top.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>               column_labels.border.bottom.color <span class="op">=</span> <span class="st">'black'</span>,</span>
<span>               column_labels.vlines.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>               column_labels.border.lr.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>               column_labels.border.bottom.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>               column_labels.border.lr.color <span class="op">=</span> <span class="st">'black'</span>,</span>
<span>               column_labels.vlines.color <span class="op">=</span> <span class="st">'black'</span>,</span>
<span>               footnotes.padding <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>,</span>
<span>               footnotes.background.color <span class="op">=</span> <span class="st">'#222'</span>,</span>
<span>               footnotes.sep <span class="op">=</span> <span class="st">", "</span>,</span>
<span>               footnotes.multiline <span class="op">=</span> <span class="va">multiline_feet</span>,</span>
<span>               heading.padding <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>,</span>
<span>               heading.background.color <span class="op">=</span> <span class="st">'#222'</span>,</span>
<span>               heading.title.font.size <span class="op">=</span> <span class="fu">pct</span><span class="op">(</span><span class="fl">125</span><span class="op">)</span>,</span>
<span>               heading.subtitle.font.size <span class="op">=</span> <span class="fu">pct</span><span class="op">(</span><span class="fl">110</span><span class="op">)</span>,</span>
<span>               heading.border.bottom.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>               row.striping.include_table_body <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>               row.striping.include_stub <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>               row.striping.background_color <span class="op">=</span> <span class="st">'#333'</span>,</span>
<span>               row_group.as_column <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>               source_notes.background.color <span class="op">=</span> <span class="st">'#222'</span>,</span>
<span>               stub.border.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>               stub.font.weight <span class="op">=</span> <span class="st">"bolder"</span>,</span>
<span>               table.margin.left <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>               table.margin.right <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>               table.align <span class="op">=</span> <span class="st">"center"</span>,</span>
<span>               table.border.top.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>               table.border.bottom.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>               table.background.color <span class="op">=</span> <span class="st">'#222'</span>,</span>
<span>               table.font.size <span class="op">=</span> <span class="va">tbl_font_size</span>,</span>
<span>               table.layout <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>               table_body.hlines.color <span class="op">=</span> <span class="st">'black'</span>,</span>
<span>               table_body.hlines.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>               table_body.vlines.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>               table_body.border.bottom.color <span class="op">=</span> <span class="st">'black'</span>,</span>
<span>               table_body.border.top.color <span class="op">=</span> <span class="st">'black'</span>,</span>
<span>               table_body.border.bottom.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>               table_body.border.top.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>     </span>
<span>     </span>
<span> </span>
<span>     </span>
<span>     </span>
<span>     <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">r_table</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<section id="plots" class="level4"><h4 class="anchored" data-anchor-id="plots">Plots</h4>
<div class="code-fold-flex">
<div class="cell">
<details class="code-fold"><summary>Plot theming code.</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">###----  Plot output script</span></span>
<span></span>
<span><span class="co"># normal axes</span></span>
<span><span class="va">ggplot_theming</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu">theme</span><span class="op">(</span></span>
<span>               axis.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span></span>
<span>                    color <span class="op">=</span> <span class="st">'gray100'</span>,</span>
<span>                    margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="st">"pt"</span><span class="op">)</span></span>
<span>               <span class="op">)</span>,</span>
<span>               axis.title.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="st">"pt"</span><span class="op">)</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,</span>
<span>               axis.title.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span></span>
<span>                    face <span class="op">=</span> <span class="st">"bold"</span>,</span>
<span>                    size <span class="op">=</span> <span class="fu">rel</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>                    margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="st">"pt"</span><span class="op">)</span></span>
<span>               <span class="op">)</span>,</span>
<span>               axis.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">'gray'</span>, margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="st">"pt"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>               axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span><span class="op">)</span>,</span>
<span>               axis.text.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span>, <span class="fl">0</span>, <span class="fl">5</span>, <span class="st">"pt"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>               axis.text.x.top <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>vjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>               legend.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">'#222'</span><span class="op">)</span>,</span>
<span>               legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>               legend.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">'gray'</span><span class="op">)</span>,</span>
<span>               legend.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">'white'</span><span class="op">)</span>,</span>
<span>               panel.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">'#222'</span><span class="op">)</span>,</span>
<span>               panel.grid.major.x <span class="op">=</span> <span class="fu">element_line</span><span class="op">(</span>linetype <span class="op">=</span> <span class="st">'solid'</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span>,</span>
<span>               panel.grid.minor.x <span class="op">=</span> <span class="fu">element_line</span><span class="op">(</span>linetype <span class="op">=</span> <span class="st">"dotted"</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span>,</span>
<span>               panel.grid.major.y <span class="op">=</span> <span class="fu">element_line</span><span class="op">(</span></span>
<span>                    linetype <span class="op">=</span> <span class="st">'solid'</span>,</span>
<span>                    color <span class="op">=</span> <span class="st">'black'</span>,</span>
<span>                    linewidth <span class="op">=</span> <span class="fl">.2</span></span>
<span>               <span class="op">)</span>,</span>
<span>               panel.grid.minor.y <span class="op">=</span> <span class="fu">element_line</span><span class="op">(</span>linetype <span class="op">=</span> <span class="st">'dotted'</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span>,</span>
<span>               plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span></span>
<span>                    face <span class="op">=</span> <span class="st">"bold"</span>,</span>
<span>                    color <span class="op">=</span> <span class="st">'white'</span>,</span>
<span>                    size <span class="op">=</span> <span class="fu">rel</span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span></span>
<span>               <span class="op">)</span>,</span>
<span>               plot.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">'#222'</span><span class="op">)</span>,</span>
<span>               plot.caption <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span></span>
<span>                    size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>                    color <span class="op">=</span> <span class="st">"gray80"</span>,</span>
<span>                    margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>                    hjust <span class="op">=</span> <span class="fl">0</span></span>
<span>               <span class="op">)</span>,</span>
<span>               <span class="co">#plot.margin = margin(0, 0, 0, 0, "pt"),</span></span>
<span>               strip.text.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"gray"</span><span class="op">)</span>,</span>
<span>               strip.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"gray"</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,</span>
<span>               text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># flipped axes</span></span>
<span><span class="va">ggplot_theming_flipped_axes</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu">theme</span><span class="op">(</span></span>
<span>               axis.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">'gray100'</span><span class="op">)</span>,</span>
<span>               axis.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">'gray'</span><span class="op">)</span>,</span>
<span>               panel.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">'#222'</span><span class="op">)</span>,</span>
<span>               panel.grid.major.x <span class="op">=</span> <span class="fu">element_line</span><span class="op">(</span>linetype <span class="op">=</span> <span class="st">'dashed'</span><span class="op">)</span>,</span>
<span>               panel.grid.minor.x <span class="op">=</span> <span class="fu">element_line</span><span class="op">(</span>linetype <span class="op">=</span> <span class="st">"dotted"</span><span class="op">)</span>,</span>
<span>               panel.grid.major.y <span class="op">=</span> <span class="fu">element_line</span><span class="op">(</span>linetype <span class="op">=</span> <span class="st">'solid'</span><span class="op">)</span>,</span>
<span>               panel.grid.minor.y <span class="op">=</span> <span class="fu">element_line</span><span class="op">(</span>linetype <span class="op">=</span> <span class="st">'dotted'</span><span class="op">)</span>,</span>
<span>               plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">'white'</span>, size <span class="op">=</span> <span class="fu">rel</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>               plot.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">'#222'</span><span class="op">)</span>,</span>
<span>               legend.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">'#222'</span><span class="op">)</span>,</span>
<span>               legend.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">'gray'</span><span class="op">)</span>,</span>
<span>               legend.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">'white'</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section></section></section><section id="weather-data-api-connection" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="weather-data-api-connection">Weather Data API Connection</h2>
<p><span class="citation" data-cites="openMeteo_2025">(<a href="#ref-openMeteo_2025" role="doc-biblioref"><span>“🌤️ <span>Free</span> <span>Open</span>-<span>Source</span> <span>Weather</span> <span>API</span> <span></span> <span>Open</span>-<span>Meteo</span>.com”</span> n.d.</a>)</span></p>
<div class="no-row-height column-margin column-container"><div id="ref-openMeteo_2025" class="csl-entry" role="listitem">
<span>“🌤️ <span>Free</span> <span>Open</span>-<span>Source</span> <span>Weather</span> <span>API</span> <span></span> <span>Open</span>-<span>Meteo</span>.com.”</span> n.d. Accessed February 8, 2025. <a href="https://open-meteo.com/">https://open-meteo.com/</a>.
</div></div><section id="realistic-coordinate-examples" class="level4"><h4 class="anchored" data-anchor-id="realistic-coordinate-examples">Realistic Coordinate Examples</h4>
<ul>
<li>
<p>Intersection of Hwy 70 &amp; 270</p>
<ul>
<li>38.748, -90.439</li>
</ul>
</li>
<li>
<p>The St.&nbsp;Louis Regional Freightway</p>
<ul>
<li>38.627480, -90.189781</li>
</ul>
</li>
<li>
<p>Port of St.&nbsp;Louis</p>
<ul>
<li>38.609215, -90.204275</li>
</ul>
</li>
<li>
<p>USPS Office Kansas City International Airport</p>
<ul>
<li>
<p>KC, MO</p>
<ul>
<li>39.304413, -94.720711</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Walmart Distribution Center</p>
<ul>
<li>
<p>1100 Matlock Dr, Saint James, MO 65559-9026</p>
<ul>
<li>38.002338, -91.634422</li>
</ul>
</li>
</ul>
</li>
<li>
<p>KCS International Freight Gateway</p>
<ul>
<li>
<p>3301 East 147th Street, Kansas City, MO 64147</p>
<ul>
<li>38.84930037041913, -94.55499143307868</li>
</ul>
</li>
</ul>
</li>
</ul></section><section id="import-hourly-data" class="level3"><h3 class="anchored" data-anchor-id="import-hourly-data">Import Hourly Data</h3>
<div class="code-fold-flex">
<div class="cell">
<details class="code-fold"><summary>Run the API script to import the dataset.</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> import_api_hourly(latitude: <span class="bu">float</span>, longitude: <span class="bu">float</span>) <span class="op">-&gt;</span> pd.DataFrame:</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Setup the Open-Meteo API client with cache and retry on error</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>     cache_session <span class="op">=</span> requests_cache.CachedSession(<span class="st">'.cache'</span>, expire_after <span class="op">=</span> <span class="dv">3600</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>     retry_session <span class="op">=</span> retry(cache_session, retries <span class="op">=</span> <span class="dv">5</span>, backoff_factor <span class="op">=</span> <span class="fl">0.2</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>     openmeteo <span class="op">=</span> openmeteo_requests.Client(session <span class="op">=</span> retry_session)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Make sure all required weather variables are listed here</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>     <span class="co"># The order of variables in hourly or daily is important to assign them correctly below</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>     url <span class="op">=</span> <span class="st">"https://api.open-meteo.com/v1/forecast"</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>     params <span class="op">=</span> {</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"latitude"</span>: latitude,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"longitude"</span>: longitude,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"hourly"</span>: </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>             [<span class="st">"temperature_2m"</span>, </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>             <span class="st">"precipitation_probability"</span>, </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>             <span class="st">"precipitation"</span>, </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>             <span class="st">"rain"</span>, </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>             <span class="st">"showers"</span>, </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>             <span class="st">"snowfall"</span>, </span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>             <span class="st">"snow_depth"</span>, </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>             <span class="st">"weather_code"</span>, </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>             <span class="st">"visibility"</span>, </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>             <span class="st">"wind_speed_10m"</span>, </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>             <span class="st">"wind_direction_10m"</span>],</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">"temperature_unit"</span>: <span class="st">"fahrenheit"</span>,</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">"wind_speed_unit"</span>: <span class="st">"mph"</span>,</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">"precipitation_unit"</span>: <span class="st">"inch"</span>,</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">"timezone"</span>: <span class="st">"America/Chicago"</span>,</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>        <span class="st">"forecast_days"</span>: <span class="dv">1</span>,</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">"past_hours"</span>: <span class="dv">6</span>,</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>        <span class="st">"forecast_hours"</span>: <span class="dv">24</span>,</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>        <span class="st">"models"</span>: <span class="st">"best_match"</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>     }</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>     responses <span class="op">=</span> openmeteo.weather_api(url, params<span class="op">=</span>params)</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Process first location. Add a for-loop for multiple locations or weather models</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>     response <span class="op">=</span> responses[<span class="dv">0</span>]</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>     <span class="bu">print</span>(<span class="ss">f"Coordinates </span><span class="sc">{</span>response<span class="sc">.</span>Latitude()<span class="sc">}</span><span class="ss">°N </span><span class="sc">{</span>response<span class="sc">.</span>Longitude()<span class="sc">}</span><span class="ss">°E"</span>)</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>     <span class="bu">print</span>(<span class="ss">f"Elevation </span><span class="sc">{</span>response<span class="sc">.</span>Elevation()<span class="sc">}</span><span class="ss"> m asl"</span>)</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>     <span class="bu">print</span>(<span class="ss">f"Timezone </span><span class="sc">{</span>response<span class="sc">.</span>Timezone()<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>response<span class="sc">.</span>TimezoneAbbreviation()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>     <span class="bu">print</span>(<span class="ss">f"Timezone difference to GMT+0 </span><span class="sc">{</span>response<span class="sc">.</span>UtcOffsetSeconds()<span class="sc">}</span><span class="ss"> s"</span>)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Process hourly data. The order of variables needs to be the same as requested.</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>     hourly <span class="op">=</span> response.Hourly()</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>     hourly_temperature_2m <span class="op">=</span> hourly.Variables(<span class="dv">0</span>).ValuesAsNumpy()</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>     hourly_precipitation_probability <span class="op">=</span> hourly.Variables(<span class="dv">1</span>).ValuesAsNumpy()</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>     hourly_precipitation <span class="op">=</span> hourly.Variables(<span class="dv">2</span>).ValuesAsNumpy()</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>     hourly_rain <span class="op">=</span> hourly.Variables(<span class="dv">3</span>).ValuesAsNumpy()</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>     hourly_showers <span class="op">=</span> hourly.Variables(<span class="dv">4</span>).ValuesAsNumpy()</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>     hourly_snowfall <span class="op">=</span> hourly.Variables(<span class="dv">5</span>).ValuesAsNumpy()</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>     hourly_snow_depth <span class="op">=</span> hourly.Variables(<span class="dv">6</span>).ValuesAsNumpy()</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>     hourly_weather_code <span class="op">=</span> hourly.Variables(<span class="dv">7</span>).ValuesAsNumpy()</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>     hourly_visibility <span class="op">=</span> hourly.Variables(<span class="dv">8</span>).ValuesAsNumpy()</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>     hourly_wind_speed_10m <span class="op">=</span> hourly.Variables(<span class="dv">9</span>).ValuesAsNumpy()</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>     hourly_wind_direction_10m <span class="op">=</span> hourly.Variables(<span class="dv">10</span>).ValuesAsNumpy()</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>     hourly_data <span class="op">=</span> {<span class="st">"date"</span>: pd.date_range(</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>        start <span class="op">=</span> pd.to_datetime(hourly.Time(), unit <span class="op">=</span> <span class="st">"s"</span>, utc <span class="op">=</span> <span class="va">True</span>),</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>        end <span class="op">=</span> pd.to_datetime(hourly.TimeEnd(), unit <span class="op">=</span> <span class="st">"s"</span>, utc <span class="op">=</span> <span class="va">True</span>),</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>        freq <span class="op">=</span> pd.Timedelta(seconds <span class="op">=</span> hourly.Interval()),</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>        inclusive <span class="op">=</span> <span class="st">"left"</span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>     )}</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"temperature_2m"</span>] <span class="op">=</span> hourly_temperature_2m</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"precipitation_probability"</span>] <span class="op">=</span> hourly_precipitation_probability</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"precipitation"</span>] <span class="op">=</span> hourly_precipitation</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"rain"</span>] <span class="op">=</span> hourly_rain</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"showers"</span>] <span class="op">=</span> hourly_showers</span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"snowfall"</span>] <span class="op">=</span> hourly_snowfall</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"snow_depth"</span>] <span class="op">=</span> hourly_snow_depth</span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"weather_code"</span>] <span class="op">=</span> hourly_weather_code</span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"visibility"</span>] <span class="op">=</span> hourly_visibility</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"wind_speed_10m"</span>] <span class="op">=</span> hourly_wind_speed_10m</span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>     hourly_data[<span class="st">"wind_direction_10m"</span>] <span class="op">=</span> hourly_wind_direction_10m</span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>     <span class="cf">return</span>(pd.DataFrame(data <span class="op">=</span> hourly_data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div class="code-fold-flex">
<div class="cell">
<details class="code-fold"><summary>Register hourly api results as a virtual table.</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">duckdb_register</span><span class="op">(</span><span class="va">duckdb_con</span>, </span>
<span>                <span class="st">"hourly"</span>, </span>
<span>                <span class="va">py</span><span class="op">$</span><span class="fu">import_api_hourly</span><span class="op">(</span><span class="fl">38.748</span>, <span class="op">-</span><span class="fl">90.439</span><span class="op">)</span>,</span>
<span>                overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Coordinates 38.74498748779297°N -90.4433364868164°E
Elevation 175.0 m asl
Timezone b'America/Chicago' b'GMT-6'
Timezone difference to GMT+0 -21600 s</code></pre>
</div>
</div>
</div>
</section></section><section id="model-background-info" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="model-background-info">Model Background Info</h2>
<div class="p-1 page-columns page-full">
<p>The study, published in the <em>Weather and Forecasting</em> journal, focuses on evaluating and improving the accuracy of weather prediction models, particularly for severe weather events. It examines the performance of high-resolution numerical weather prediction (NWP) models in forecasting convective storms, which are critical for predicting severe weather such as thunderstorms, hail, and tornadoes. The research highlights advancements in model resolution, data assimilation techniques, and the integration of observational data to enhance forecast precision. The findings emphasize the importance of these improvements for short-term (nowcasting) and medium-range forecasts, particularly in regions prone to severe weather, like the central United States (including Missouri). <span class="citation" data-cites="dowell_high-resolution_2022">Dowell et al. (<a href="#ref-dowell_high-resolution_2022" role="doc-biblioref">2022</a>)</span></p>
<div class="no-row-height column-margin column-container"><div id="ref-dowell_high-resolution_2022" class="csl-entry" role="listitem">
Dowell, David C., Curtis R. Alexander, Eric P. James, Stephen S. Weygandt, Stanley G. Benjamin, Geoffrey S. Manikin, Benjamin T. Blake, et al. 2022. <span>“The <span>High</span>-<span>Resolution</span> <span>Rapid</span> <span>Refresh</span> (<span>HRRR</span>): <span>An</span> <span>Hourly</span> <span>Updating</span> <span>Convection</span>-<span>Allowing</span> <span>Forecast</span> <span>Model</span>. <span>Part</span> <span>I</span>: <span>Motivation</span> and <span>System</span> <span>Description</span>.”</span> <em>Weather and Forecasting</em> 37 (8): 1371–95. <a href="https://doi.org/10.1175/WAF-D-21-0151.1">https://doi.org/10.1175/WAF-D-21-0151.1</a>.
</div></div></div>
<div class="code-fold-flex">
<div class="cell">
<details class="code-fold"><summary>table setup</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Create the tibble</span></span>
<span><span class="va">forecast_models</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>     Model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"GFS"</span>, <span class="st">"HRRR"</span><span class="op">)</span>,</span>
<span>     Developed_By <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>          <span class="st">"NOAA (National Oceanic and Atmospheric Administration)"</span>,</span>
<span>          <span class="st">"NOAA (specifically by the Earth System Research Laboratory)"</span></span>
<span>     <span class="op">)</span>,</span>
<span>     Scope <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>          <span class="st">"Global"</span>,</span>
<span>          <span class="st">"Regional (primarily focused on the contiguous United States)"</span></span>
<span>     <span class="op">)</span>,</span>
<span>     Resolution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>          <span class="st">"Lower resolution compared to HRRR (approximately 13 km as of recent updates)"</span>,</span>
<span>          <span class="st">"High resolution (3 km)"</span></span>
<span>     <span class="op">)</span>,</span>
<span>     Forecast_Range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Up to 16 days"</span>, <span class="st">"Up to 18 hours"</span><span class="op">)</span>,</span>
<span>     Updates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Runs four times a day (00Z, 06Z, 12Z, 18Z)"</span>, <span class="st">"Runs every hour"</span><span class="op">)</span>,</span>
<span>     Applications <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>          <span class="st">"Used for long-term weather forecasting, climate modeling, and global weather patterns."</span>,</span>
<span>          <span class="st">"Ideal for short-term, detailed weather forecasting, including severe weather events like thunderstorms, tornadoes, and localized precipitation."</span></span>
<span>     <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">locations_list</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">forecast_models</span><span class="op">)</span></span>
<span></span>
<span><span class="va">notes_list</span> <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>     <span class="st">""</span>,</span>
<span>  <span class="st">"Organization or entity responsible for developing the model."</span>,</span>
<span>  <span class="st">"Geographical coverage of the model (e.g., global or regional)."</span>,</span>
<span>  <span class="st">"Spatial resolution of the model, indicating the level of detail in the forecasts."</span>,</span>
<span>  <span class="st">"Time period for which the model provides forecasts."</span>,</span>
<span>  <span class="st">"Frequency at which the model is updated with new data."</span>,</span>
<span>  <span class="st">"Primary uses and strengths of the model in weather forecasting."</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">footnotes_df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  notes <span class="op">=</span> <span class="va">notes_list</span>, </span>
<span>  locations <span class="op">=</span> <span class="va">locations_list</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pal_df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  cols <span class="op">=</span> <span class="va">locations_list</span></span>
<span><span class="co">#  pals = list(eval_palette("viridis::viridis", 2, 'c', 1))</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">rTable</span> <span class="op">&lt;-</span> <span class="fu">r_table_theming</span><span class="op">(</span></span>
<span><span class="va">forecast_models</span>,</span>
<span>title <span class="op">=</span> <span class="st">"Forecast Models: Attributes"</span>,</span>
<span>subtitle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span><span class="va">footnotes_df</span>,</span>
<span>source_note <span class="op">=</span> <span class="fu">md</span><span class="op">(</span><span class="st">"**source**: "</span><span class="op">)</span>,</span>
<span><span class="va">pal_df</span>,</span>
<span>multiline_feet <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>tbl_font_size <span class="op">=</span> <span class="fu">pct</span><span class="op">(</span><span class="fl">85</span><span class="op">)</span>,</span>
<span>target_everything <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>row_name_col <span class="op">=</span> <span class="st">"Model"</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div class="cell">
<div id="tbl-modelAttributes" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-modelAttributes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1
</figcaption><div aria-describedby="tbl-modelAttributes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="zoeqbpunie" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zoeqbpunie table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zoeqbpunie thead, #zoeqbpunie tbody, #zoeqbpunie tfoot, #zoeqbpunie tr, #zoeqbpunie td, #zoeqbpunie th {
  border-style: none;
}

#zoeqbpunie p {
  margin: 0;
  padding: 0;
}

#zoeqbpunie .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: 1px;
  margin-right: 1px;
  color: #FFFFFF;
  font-size: 85%;
  font-weight: normal;
  font-style: normal;
  background-color: #222222;
  width: auto;
  border-top-style: solid;
  border-top-width: 0px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zoeqbpunie .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zoeqbpunie .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 10px;
  padding-bottom: 10px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #222222;
  border-bottom-width: 0;
}

#zoeqbpunie .gt_subtitle {
  color: #FFFFFF;
  font-size: 110%;
  font-weight: initial;
  padding-top: 9px;
  padding-bottom: 11px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #222222;
  border-top-width: 0;
}

#zoeqbpunie .gt_heading {
  background-color: #222222;
  text-align: center;
  border-bottom-color: #222222;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zoeqbpunie .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #D3D3D3;
}

#zoeqbpunie .gt_col_headings {
  border-top-style: solid;
  border-top-width: 0px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
}

#zoeqbpunie .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: bottom;
  padding-top: 10px;
  padding-bottom: 11px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zoeqbpunie .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zoeqbpunie .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zoeqbpunie .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zoeqbpunie .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 10px;
  padding-bottom: 10px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zoeqbpunie .gt_spanner_row {
  border-bottom-style: hidden;
}

#zoeqbpunie .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #222222;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zoeqbpunie .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #222222;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zoeqbpunie .gt_from_md > :first-child {
  margin-top: 0;
}

#zoeqbpunie .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zoeqbpunie .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 0px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 0px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 0px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zoeqbpunie .gt_stub {
  color: #FFFFFF;
  background-color: #222222;
  font-size: 100%;
  font-weight: bolder;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 0px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zoeqbpunie .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #222222;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zoeqbpunie .gt_row_group_first td {
  border-top-width: 2px;
}

#zoeqbpunie .gt_row_group_first th {
  border-top-width: 2px;
}

#zoeqbpunie .gt_summary_row {
  color: #FFFFFF;
  background-color: #222222;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zoeqbpunie .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zoeqbpunie .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zoeqbpunie .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zoeqbpunie .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #222222;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zoeqbpunie .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zoeqbpunie .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zoeqbpunie .gt_striped {
  background-color: #333333;
}

#zoeqbpunie .gt_table_body {
  border-top-style: solid;
  border-top-width: 0px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #000000;
}

#zoeqbpunie .gt_footnotes {
  color: #FFFFFF;
  background-color: #222222;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zoeqbpunie .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
}

#zoeqbpunie .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #222222;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zoeqbpunie .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zoeqbpunie .gt_left {
  text-align: left;
}

#zoeqbpunie .gt_center {
  text-align: center;
}

#zoeqbpunie .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zoeqbpunie .gt_font_normal {
  font-weight: normal;
}

#zoeqbpunie .gt_font_bold {
  font-weight: bold;
}

#zoeqbpunie .gt_font_italic {
  font-style: italic;
}

#zoeqbpunie .gt_super {
  font-size: 65%;
}

#zoeqbpunie .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zoeqbpunie .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zoeqbpunie .gt_indent_1 {
  text-indent: 5px;
}

#zoeqbpunie .gt_indent_2 {
  text-indent: 10px;
}

#zoeqbpunie .gt_indent_3 {
  text-indent: 15px;
}

#zoeqbpunie .gt_indent_4 {
  text-indent: 20px;
}

#zoeqbpunie .gt_indent_5 {
  text-indent: 25px;
}

#zoeqbpunie .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#zoeqbpunie div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="7" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Forecast Models: Attributes</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="a::stub"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Developed_By">Developed_By<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Scope">Scope<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Resolution">Resolution<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>3</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Forecast_Range">Forecast_Range<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>4</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Updates">Updates<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>5</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Applications">Applications<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>6</sup></span>
</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<th id="stub_1_1" scope="row" class="gt_row gt_left gt_stub">GFS</th>
<td headers="stub_1_1 Developed_By" class="gt_row gt_left">NOAA (National Oceanic and Atmospheric Administration)</td>
<td headers="stub_1_1 Scope" class="gt_row gt_left">Global</td>
<td headers="stub_1_1 Resolution" class="gt_row gt_left">Lower resolution compared to HRRR (approximately 13 km as of recent updates)</td>
<td headers="stub_1_1 Forecast_Range" class="gt_row gt_left">Up to 16 days</td>
<td headers="stub_1_1 Updates" class="gt_row gt_left">Runs four times a day (00Z, 06Z, 12Z, 18Z)</td>
<td headers="stub_1_1 Applications" class="gt_row gt_left">Used for long-term weather forecasting, climate modeling, and global weather patterns.</td>
</tr>
<tr>
<th id="stub_1_2" scope="row" class="gt_row gt_left gt_stub  gt_striped">HRRR</th>
<td headers="stub_1_2 Developed_By" class="gt_row gt_left gt_striped">NOAA (specifically by the Earth System Research Laboratory)</td>
<td headers="stub_1_2 Scope" class="gt_row gt_left gt_striped">Regional (primarily focused on the contiguous United States)</td>
<td headers="stub_1_2 Resolution" class="gt_row gt_left gt_striped">High resolution (3 km)</td>
<td headers="stub_1_2 Forecast_Range" class="gt_row gt_left gt_striped">Up to 18 hours</td>
<td headers="stub_1_2 Updates" class="gt_row gt_left gt_striped">Runs every hour</td>
<td headers="stub_1_2 Applications" class="gt_row gt_left gt_striped">Ideal for short-term, detailed weather forecasting, including severe weather events like thunderstorms, tornadoes, and localized precipitation.</td>
</tr>
</tbody>
<tfoot class="gt_sourcenotes"><tr>
<td class="gt_sourcenote" colspan="7"><span data-qmd-base64="PHN0cm9uZz5zb3VyY2U8L3N0cm9uZz46"><span class="gt_from_md"><strong>source</strong>:</span></span></td>
    </tr></tfoot>
<tfoot class="gt_footnotes">
<tr>
<td class="gt_footnote" colspan="7">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> Organization or entity responsible for developing the model.</td>
    </tr>
<tr>
<td class="gt_footnote" colspan="7">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span> Geographical coverage of the model (e.g., global or regional).</td>
    </tr>
<tr>
<td class="gt_footnote" colspan="7">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>3</sup></span> Spatial resolution of the model, indicating the level of detail in the forecasts.</td>
    </tr>
<tr>
<td class="gt_footnote" colspan="7">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>4</sup></span> Time period for which the model provides forecasts.</td>
    </tr>
<tr>
<td class="gt_footnote" colspan="7">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>5</sup></span> Frequency at which the model is updated with new data.</td>
    </tr>
<tr>
<td class="gt_footnote" colspan="7">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>6</sup></span> Primary uses and strengths of the model in weather forecasting.</td>
    </tr>
</tfoot>
</table>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="code-fold-flex">
<div class="cell">
<details class="code-fold"><summary>table setup</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">forecast_model_differences</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span><span class="st">"Resolution"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span><span class="st">"HRRR has a much higher resolution than GFS, making it more accurate for short-term, localized forecasts."</span></span>
<span><span class="op">)</span>,</span>
<span><span class="st">"Forecast_Range"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"GFS provides forecasts for a much longer period compared to HRRR."</span><span class="op">)</span>,</span>
<span><span class="st">"Update_Frequency"</span> <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span><span class="st">"HRRR updates more frequently, which is crucial for capturing rapidly changing weather conditions."</span></span>
<span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">locations_list</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">forecast_model_differences</span><span class="op">)</span></span>
<span></span>
<span><span class="va">notes_list</span> <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"Spatial resolution of the model, indicating the level of detail in the forecasts."</span>,</span>
<span>  <span class="st">"Time period for which the model provides forecasts."</span>,</span>
<span>  <span class="st">"Frequency at which the model is updated with new data."</span><span class="op">)</span></span>
<span></span>
<span><span class="va">footnotes_df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  notes <span class="op">=</span> <span class="va">notes_list</span>, </span>
<span>  locations <span class="op">=</span> <span class="va">locations_list</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pal_df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  cols <span class="op">=</span> <span class="va">locations_list</span></span>
<span><span class="co">#  pals = list(eval_palette("viridis::viridis", 2, 'c', 1))</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">rTable</span> <span class="op">&lt;-</span> <span class="fu">r_table_theming</span><span class="op">(</span></span>
<span><span class="va">forecast_model_differences</span>,</span>
<span>title <span class="op">=</span> <span class="st">"Forecast Models: Differences"</span>,</span>
<span>subtitle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span><span class="va">footnotes_df</span>,</span>
<span>source_note <span class="op">=</span> <span class="fu">md</span><span class="op">(</span><span class="st">"**source**: Kaggle"</span><span class="op">)</span>,</span>
<span><span class="va">pal_df</span>,</span>
<span>multiline_feet <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>tbl_font_size <span class="op">=</span> <span class="fu">pct</span><span class="op">(</span><span class="fl">85</span><span class="op">)</span>,</span>
<span>target_everything <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>row_name_col <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div class="cell">
<div id="tbl-modelDiffs" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-modelDiffs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2
</figcaption><div aria-describedby="tbl-modelDiffs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="hdkxdipzaw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hdkxdipzaw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hdkxdipzaw thead, #hdkxdipzaw tbody, #hdkxdipzaw tfoot, #hdkxdipzaw tr, #hdkxdipzaw td, #hdkxdipzaw th {
  border-style: none;
}

#hdkxdipzaw p {
  margin: 0;
  padding: 0;
}

#hdkxdipzaw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: 1px;
  margin-right: 1px;
  color: #FFFFFF;
  font-size: 85%;
  font-weight: normal;
  font-style: normal;
  background-color: #222222;
  width: auto;
  border-top-style: solid;
  border-top-width: 0px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hdkxdipzaw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hdkxdipzaw .gt_title {
  color: #FFFFFF;
  font-size: 125%;
  font-weight: initial;
  padding-top: 10px;
  padding-bottom: 10px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #222222;
  border-bottom-width: 0;
}

#hdkxdipzaw .gt_subtitle {
  color: #FFFFFF;
  font-size: 110%;
  font-weight: initial;
  padding-top: 9px;
  padding-bottom: 11px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #222222;
  border-top-width: 0;
}

#hdkxdipzaw .gt_heading {
  background-color: #222222;
  text-align: center;
  border-bottom-color: #222222;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hdkxdipzaw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #D3D3D3;
}

#hdkxdipzaw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 0px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
}

#hdkxdipzaw .gt_col_heading {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: bottom;
  padding-top: 10px;
  padding-bottom: 11px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hdkxdipzaw .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #333333;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hdkxdipzaw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hdkxdipzaw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hdkxdipzaw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 10px;
  padding-bottom: 10px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hdkxdipzaw .gt_spanner_row {
  border-bottom-style: hidden;
}

#hdkxdipzaw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #FFFFFF;
  background-color: #222222;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hdkxdipzaw .gt_empty_group_heading {
  padding: 0.5px;
  color: #FFFFFF;
  background-color: #222222;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hdkxdipzaw .gt_from_md > :first-child {
  margin-top: 0;
}

#hdkxdipzaw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hdkxdipzaw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 0px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 0px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 0px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hdkxdipzaw .gt_stub {
  color: #FFFFFF;
  background-color: #222222;
  font-size: 100%;
  font-weight: bolder;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 0px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hdkxdipzaw .gt_stub_row_group {
  color: #FFFFFF;
  background-color: #222222;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hdkxdipzaw .gt_row_group_first td {
  border-top-width: 2px;
}

#hdkxdipzaw .gt_row_group_first th {
  border-top-width: 2px;
}

#hdkxdipzaw .gt_summary_row {
  color: #FFFFFF;
  background-color: #222222;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hdkxdipzaw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hdkxdipzaw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hdkxdipzaw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hdkxdipzaw .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #222222;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hdkxdipzaw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hdkxdipzaw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hdkxdipzaw .gt_striped {
  background-color: #333333;
}

#hdkxdipzaw .gt_table_body {
  border-top-style: solid;
  border-top-width: 0px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #000000;
}

#hdkxdipzaw .gt_footnotes {
  color: #FFFFFF;
  background-color: #222222;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hdkxdipzaw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
}

#hdkxdipzaw .gt_sourcenotes {
  color: #FFFFFF;
  background-color: #222222;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hdkxdipzaw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hdkxdipzaw .gt_left {
  text-align: left;
}

#hdkxdipzaw .gt_center {
  text-align: center;
}

#hdkxdipzaw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hdkxdipzaw .gt_font_normal {
  font-weight: normal;
}

#hdkxdipzaw .gt_font_bold {
  font-weight: bold;
}

#hdkxdipzaw .gt_font_italic {
  font-style: italic;
}

#hdkxdipzaw .gt_super {
  font-size: 65%;
}

#hdkxdipzaw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hdkxdipzaw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hdkxdipzaw .gt_indent_1 {
  text-indent: 5px;
}

#hdkxdipzaw .gt_indent_2 {
  text-indent: 10px;
}

#hdkxdipzaw .gt_indent_3 {
  text-indent: 15px;
}

#hdkxdipzaw .gt_indent_4 {
  text-indent: 20px;
}

#hdkxdipzaw .gt_indent_5 {
  text-indent: 25px;
}

#hdkxdipzaw .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#hdkxdipzaw div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Forecast Models: Differences</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Resolution">Resolution<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Forecast_Range">Forecast_Range<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Update_Frequency">Update_Frequency<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>3</sup></span>
</th>
    </tr>
</thead>
<tbody class="gt_table_body"><tr>
<td headers="Resolution" class="gt_row gt_left">HRRR has a much higher resolution than GFS, making it more accurate for short-term, localized forecasts.</td>
<td headers="Forecast_Range" class="gt_row gt_left">GFS provides forecasts for a much longer period compared to HRRR.</td>
<td headers="Update_Frequency" class="gt_row gt_left">HRRR updates more frequently, which is crucial for capturing rapidly changing weather conditions.</td>
</tr></tbody>
<tfoot class="gt_sourcenotes"><tr>
<td class="gt_sourcenote" colspan="3"><span data-qmd-base64="PHN0cm9uZz5zb3VyY2U8L3N0cm9uZz46IEthZ2dsZQ=="><span class="gt_from_md"><strong>source</strong>: Kaggle</span></span></td>
    </tr></tfoot>
<tfoot class="gt_footnotes">
<tr>
<td class="gt_footnote" colspan="3">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> Spatial resolution of the model, indicating the level of detail in the forecasts.</td>
    </tr>
<tr>
<td class="gt_footnote" colspan="3">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span> Time period for which the model provides forecasts.</td>
    </tr>
<tr>
<td class="gt_footnote" colspan="3">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>3</sup></span> Frequency at which the model is updated with new data.</td>
    </tr>
</tfoot>
</table>
</div>
</div>
</div>
</figure>
</div>
</div>
</section><section id="weather-condition-analysis" class="level2"><h2 class="anchored" data-anchor-id="weather-condition-analysis">Weather Condition Analysis</h2>
<div class="code-fold-flex">
<div class="cell">
<details class="code-fold"><summary>Plot load.</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Load necessary libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org">DBI</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org">scales</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/EmilHvitfeldt/paletteer">paletteer</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://davidcarslaw.github.io/openair/">openair</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"./scripts/Output/Plots/plot_output.R"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"./scripts/Setup/Enum/create_enum_and_associate.R"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Helper function to execute a query and return the result</span></span>
<span><span class="va">execute_query</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">con</span>, <span class="va">query</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbGetQuery.html">dbGetQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="va">query</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># 1 Day Temperature Trend ----</span></span>
<span><span class="va">plot_temperature_trend</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">con</span>, <span class="va">freezing_threshold</span> <span class="op">=</span> <span class="fl">32</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">    SELECT</span></span>
<span><span class="st">      temperature_2m,</span></span>
<span><span class="st">      strftime(date, '%H:%M:%S') AS time_only,</span></span>
<span><span class="st">      strptime('1970-01-01 ' || strftime(date, '%H:%M:%S'), '%Y-%m-%d %H:%M:%S') AS common_date,</span></span>
<span><span class="st">      strftime(date, '%b %d') AS day</span></span>
<span><span class="st">    FROM</span></span>
<span><span class="st">      hourly;</span></span>
<span><span class="st">  "</span></span>
<span>     </span>
<span>     <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">execute_query</span><span class="op">(</span><span class="va">con</span>, <span class="va">query</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">rPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">common_date</span>, y <span class="op">=</span> <span class="va">temperature_2m</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span><span class="op">(</span></span>
<span>               yintercept <span class="op">=</span> <span class="va">freezing_threshold</span>,</span>
<span>               linetype <span class="op">=</span> <span class="st">"dashed"</span>,</span>
<span>               color <span class="op">=</span> <span class="st">"lightblue"</span>,</span>
<span>               linewidth <span class="op">=</span> <span class="fl">0.4</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_ribbon</a></span><span class="op">(</span></span>
<span>               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span></span>
<span>                    ymin <span class="op">=</span> <span class="va">freezing_threshold</span>,</span>
<span>                    ymax <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span></span>
<span>                         <span class="va">temperature_2m</span> <span class="op">&gt;</span> <span class="va">freezing_threshold</span>,</span>
<span>                         <span class="va">temperature_2m</span>,</span>
<span>                         <span class="va">freezing_threshold</span></span>
<span>                    <span class="op">)</span></span>
<span>               <span class="op">)</span>,</span>
<span>               fill <span class="op">=</span> <span class="st">"green"</span>,</span>
<span>               alpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>               na.rm <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_ribbon</a></span><span class="op">(</span></span>
<span>               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span></span>
<span>                    ymin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span></span>
<span>                         <span class="va">temperature_2m</span> <span class="op">&lt;</span> <span class="va">freezing_threshold</span>,</span>
<span>                         <span class="va">temperature_2m</span>,</span>
<span>                         <span class="va">freezing_threshold</span></span>
<span>                    <span class="op">)</span>,</span>
<span>                    ymax <span class="op">=</span> <span class="va">freezing_threshold</span></span>
<span>               <span class="op">)</span>,</span>
<span>               fill <span class="op">=</span> <span class="st">"lightblue"</span>,</span>
<span>               alpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>               na.rm <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>               title <span class="op">=</span> <span class="st">"Temperature Forecast"</span>,</span>
<span>               x <span class="op">=</span> <span class="st">""</span>,</span>
<span>               y <span class="op">=</span> <span class="st">"° F"</span>,</span>
<span>               caption <span class="op">=</span> <span class="st">"Green fill indicates temperatures above freezing; light blue fill indicates below freezing."</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_datetime</a></span><span class="op">(</span></span>
<span>               labels <span class="op">=</span> <span class="fu"><a href="https://scales.r-lib.org/reference/label_date.html">label_date</a></span><span class="op">(</span><span class="st">"%l %p"</span><span class="op">)</span>,</span>
<span>               breaks <span class="op">=</span> <span class="st">"7 day"</span>,</span>
<span>               minor_breaks <span class="op">=</span> <span class="st">"1 hour"</span>,</span>
<span>               guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_axis.html">guide_axis</a></span><span class="op">(</span>n.dodge <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span><span class="va">.</span> <span class="op">~</span> <span class="va">day</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu">ggplot_theming</span><span class="op">(</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">base_path</span> <span class="op">&lt;-</span> <span class="st">"data/plots/"</span></span>
<span>     <span class="va">plot_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">base_path</span>, <span class="st">"ggTemperature.png"</span><span class="op">)</span></span>
<span>     <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span><span class="va">plot_path</span>, plot <span class="op">=</span> <span class="va">rPlot</span>, scale <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="co"># Read the PNG file</span></span>
<span>     <span class="va">img</span> <span class="op">&lt;-</span> <span class="fu">readPNG</span><span class="op">(</span><span class="va">plot_path</span><span class="op">)</span></span>
<span>     <span class="co"># Display the image</span></span>
<span>     <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.raster.html">grid.raster</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Precipitation and Probability ----</span></span>
<span><span class="va">plot_precipitation</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">con</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">    SELECT</span></span>
<span><span class="st">      precipitation_probability,</span></span>
<span><span class="st">      precipitation,</span></span>
<span><span class="st">      rain,</span></span>
<span><span class="st">      snowfall,</span></span>
<span><span class="st">      strftime(date, '%H:%M:%S') AS time_only,</span></span>
<span><span class="st">      strptime('1970-01-01 ' || strftime(date, '%H:%M:%S'), '%Y-%m-%d %H:%M:%S') AS common_date,</span></span>
<span><span class="st">      strftime(date, '%b %d') AS day</span></span>
<span><span class="st">    FROM</span></span>
<span><span class="st">      hourly;</span></span>
<span><span class="st">  "</span></span>
<span>     </span>
<span>     <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">execute_query</span><span class="op">(</span><span class="va">con</span>, <span class="va">query</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">scale_factor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">precipitation_probability</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">rain</span>, <span class="va">data</span><span class="op">$</span><span class="va">snowfall</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">rPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="va">common_date</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_area</a></span><span class="op">(</span></span>
<span>               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">precipitation_probability</span>, fill <span class="op">=</span> <span class="st">"Precipitation Probability"</span><span class="op">)</span>,</span>
<span>               linewidth <span class="op">=</span> <span class="fl">0.2</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span></span>
<span>               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">rain</span> <span class="op">*</span> <span class="va">scale_factor</span>, color <span class="op">=</span> <span class="st">"Rain (inches)"</span><span class="op">)</span>,</span>
<span>               size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>               linetype <span class="op">=</span> <span class="st">"dashed"</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span></span>
<span>               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">snowfall</span> <span class="op">*</span> <span class="va">scale_factor</span>, color <span class="op">=</span> <span class="st">"Snowfall (inches)"</span><span class="op">)</span>,</span>
<span>               size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>               linetype <span class="op">=</span> <span class="st">"dotted"</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span></span>
<span>               name <span class="op">=</span> <span class="st">"Precipitation Probability (%)"</span>,</span>
<span>               sec.axis <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/sec_axis.html">sec_axis</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">.</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span></span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.infinite</a></span><span class="op">(</span><span class="va">scale_factor</span><span class="op">)</span>, <span class="fl">1000</span>, <span class="va">scale_factor</span></span>
<span>               <span class="op">)</span>, name <span class="op">=</span> <span class="st">"Rain / Snowfall (inches)"</span><span class="op">)</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_datetime</a></span><span class="op">(</span></span>
<span>               labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/date_format.html">date_format</a></span><span class="op">(</span><span class="st">"%H:%M"</span><span class="op">)</span>,</span>
<span>               breaks <span class="op">=</span> <span class="st">"6 hours"</span>,</span>
<span>               minor_breaks <span class="op">=</span> <span class="st">"2 hour"</span>,</span>
<span>               guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_axis.html">guide_axis</a></span><span class="op">(</span>n.dodge <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span></span>
<span>               name <span class="op">=</span> <span class="st">"Weather Condition"</span>,</span>
<span>               values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>                    <span class="st">"Rain (inches)"</span> <span class="op">=</span> <span class="st">"skyblue"</span>,</span>
<span>                    <span class="st">"Snowfall (inches)"</span> <span class="op">=</span> <span class="st">"snow"</span></span>
<span>               <span class="op">)</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Chance of %"</span>,</span>
<span>                            values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Precipitation Probability"</span> <span class="op">=</span> <span class="st">"gray20"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Precipitation Forecast"</span>, x <span class="op">=</span> <span class="st">"Time of Day"</span>, y <span class="op">=</span> <span class="st">"Precipitation Probability (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span><span class="op">~</span> <span class="va">day</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu">ggplot_theming</span><span class="op">(</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">base_path</span> <span class="op">&lt;-</span> <span class="st">"data/plots/"</span></span>
<span>     <span class="va">plot_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">base_path</span>, <span class="st">"ggPrecipitation.png"</span><span class="op">)</span></span>
<span>     <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span><span class="va">plot_path</span>, plot <span class="op">=</span> <span class="va">rPlot</span>, scale <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="co"># Read the PNG file</span></span>
<span>     <span class="co">#readPNG(plot_path) |&gt;</span></span>
<span>          <span class="co"># Display the image</span></span>
<span>      <span class="co">#    grid::grid.raster()</span></span>
<span>     </span>
<span>     <span class="co"># Read the PNG file</span></span>
<span>     <span class="va">img</span> <span class="op">&lt;-</span> <span class="fu">readPNG</span><span class="op">(</span><span class="va">plot_path</span><span class="op">)</span></span>
<span>     <span class="co"># Display the image</span></span>
<span>     <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.raster.html">grid.raster</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span>
<span>     </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># OpenAir Wind Rose ----</span></span>
<span><span class="va">plot_wind_rose</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">con</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">    SELECT</span></span>
<span><span class="st">      wind_speed_10m,</span></span>
<span><span class="st">      wind_direction_10m,</span></span>
<span><span class="st">      strftime(date, '%H:%M:%S') AS time_only,</span></span>
<span><span class="st">      strptime('1970-01-01 ' || strftime(date, '%H:%M:%S'), '%Y-%m-%d %H:%M:%S') AS common_date,</span></span>
<span><span class="st">      strftime(date, '%b %d') AS day</span></span>
<span><span class="st">    FROM</span></span>
<span><span class="st">      hourly;</span></span>
<span><span class="st">  "</span></span>
<span>     </span>
<span>     <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">execute_query</span><span class="op">(</span><span class="va">con</span>, <span class="va">query</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="fu"><a href="https://rdrr.io/pkg/openair/man/windRose.html">windRose</a></span><span class="op">(</span></span>
<span>          <span class="va">data</span>,</span>
<span>          ws <span class="op">=</span> <span class="st">"wind_speed_10m"</span>,</span>
<span>          wd <span class="op">=</span> <span class="st">"wind_direction_10m"</span>,</span>
<span>          breaks <span class="op">=</span> <span class="fl">5</span>,</span>
<span>          paddle <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/paletteer/man/paletteer_d.html">paletteer_d</a></span><span class="op">(</span><span class="st">"ggsci::springfield_simpsons"</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>          key.position <span class="op">=</span> <span class="st">"left"</span></span>
<span>     <span class="op">)</span></span>
<span>     </span>
<span>     </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># ggplot Wind Rose ----</span></span>
<span><span class="va">plot_wind_rose_ggplot</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">con</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">    SELECT</span></span>
<span><span class="st">      wind_speed_10m,</span></span>
<span><span class="st">      wind_direction_10m,</span></span>
<span><span class="st">      strftime(date, '%H:%M:%S') AS time_only,</span></span>
<span><span class="st">      strptime('1970-01-01 ' || strftime(date, '%H:%M:%S'), '%Y-%m-%d %H:%M:%S') AS common_date,</span></span>
<span><span class="st">      strftime(date, '%b %d') AS day</span></span>
<span><span class="st">    FROM</span></span>
<span><span class="st">      hourly;</span></span>
<span><span class="st">  "</span></span>
<span>     </span>
<span>     <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">execute_query</span><span class="op">(</span><span class="va">con</span>, <span class="va">query</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu">mutate</span><span class="op">(</span>speed_bin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span></span>
<span>               <span class="va">wind_speed_10m</span>,</span>
<span>               breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span>, <span class="fl">10</span>, <span class="cn">Inf</span><span class="op">)</span>,</span>
<span>               labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0-2"</span>, <span class="st">"2-4"</span>, <span class="st">"4-6"</span>, <span class="st">"6-8"</span>, <span class="st">"8-10"</span>, <span class="st">"10+"</span><span class="op">)</span></span>
<span>          <span class="op">)</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">rPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">wind_direction_10m</span>, fill <span class="op">=</span> <span class="va">speed_bin</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">10</span>,</span>
<span>                         color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>                         position <span class="op">=</span> <span class="st">"stack"</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">360</span><span class="op">)</span>,</span>
<span>                             breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">360</span>, by <span class="op">=</span> <span class="fl">45</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>               title <span class="op">=</span> <span class="st">"Wind Rose"</span>,</span>
<span>               x <span class="op">=</span> <span class="st">"Wind Direction (°)"</span>,</span>
<span>               y <span class="op">=</span> <span class="st">"Frequency"</span>,</span>
<span>               fill <span class="op">=</span> <span class="st">"Wind Speed (m/s)"</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu">ggplot_theming</span><span class="op">(</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">base_path</span> <span class="op">&lt;-</span> <span class="st">"data/plots/"</span></span>
<span>     <span class="va">plot_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">base_path</span>, <span class="st">"ggWindRose.png"</span><span class="op">)</span></span>
<span>     <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span><span class="va">plot_path</span>, plot <span class="op">=</span> <span class="va">rPlot</span>, scale <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="co"># Read the PNG file</span></span>
<span>     <span class="va">img</span> <span class="op">&lt;-</span> <span class="fu">readPNG</span><span class="op">(</span><span class="va">plot_path</span><span class="op">)</span></span>
<span>     <span class="co"># Display the image</span></span>
<span>     <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.raster.html">grid.raster</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span>
<span>     </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Visibility geom_line ----</span></span>
<span><span class="va">plot_visibility_line</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">con</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">    SELECT</span></span>
<span><span class="st">      visibility,</span></span>
<span><span class="st">      strptime('1970-01-01 ' || strftime(date, '%H:%M:%S'), '%Y-%m-%d %H:%M:%S') AS common_date,</span></span>
<span><span class="st">      strftime(date, '%b %d') AS day</span></span>
<span><span class="st">    FROM</span></span>
<span><span class="st">      hourly;</span></span>
<span><span class="st">  "</span></span>
<span>     </span>
<span>     <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">execute_query</span><span class="op">(</span><span class="va">con</span>, <span class="va">query</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">rPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">common_date</span>, y <span class="op">=</span> <span class="va">visibility</span> <span class="op">/</span> <span class="fl">10</span> <span class="op">^</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"white"</span>, size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"gray"</span>, alpha <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Visibility Map"</span>, x <span class="op">=</span> <span class="st">"Date"</span>, y <span class="op">=</span> <span class="st">"Visibility (km)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_datetime</a></span><span class="op">(</span></span>
<span>               labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/date_format.html">date_format</a></span><span class="op">(</span><span class="st">"%H:%M"</span><span class="op">)</span>,</span>
<span>               breaks <span class="op">=</span> <span class="st">"6 hours"</span>,</span>
<span>               minor_breaks <span class="op">=</span> <span class="st">"2 hour"</span>,</span>
<span>               guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_axis.html">guide_axis</a></span><span class="op">(</span>n.dodge <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span><span class="op">~</span> <span class="va">day</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu">ggplot_theming</span><span class="op">(</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">base_path</span> <span class="op">&lt;-</span> <span class="st">"data/plots/"</span></span>
<span>     <span class="va">plot_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">base_path</span>, <span class="st">"ggVisibilityLine.png"</span><span class="op">)</span></span>
<span>     <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span><span class="va">plot_path</span>, plot <span class="op">=</span> <span class="va">rPlot</span>, scale <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="co"># Read the PNG file</span></span>
<span>     <span class="va">img</span> <span class="op">&lt;-</span> <span class="fu">readPNG</span><span class="op">(</span><span class="va">plot_path</span><span class="op">)</span></span>
<span>     <span class="co"># Display the image</span></span>
<span>     <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.raster.html">grid.raster</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span>
<span>     </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Visibility Non-Categorical Heat ----</span></span>
<span><span class="va">plot_visibility_heat</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">con</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">    SELECT</span></span>
<span><span class="st">      visibility,</span></span>
<span><span class="st">      strptime('1970-01-01 ' || strftime(date, '%H:%M:%S'), '%Y-%m-%d %H:%M:%S') AS common_date,</span></span>
<span><span class="st">      strftime(date, '%b %d') AS day</span></span>
<span><span class="st">    FROM</span></span>
<span><span class="st">      hourly;</span></span>
<span><span class="st">  "</span></span>
<span>     </span>
<span>     <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">execute_query</span><span class="op">(</span><span class="va">con</span>, <span class="va">query</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">rPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span></span>
<span>          x <span class="op">=</span> <span class="va">common_date</span>,</span>
<span>          y <span class="op">=</span> <span class="va">day</span>,</span>
<span>          fill <span class="op">=</span> <span class="va">visibility</span> <span class="op">/</span> <span class="fl">10</span> <span class="op">^</span> <span class="fl">3</span></span>
<span>     <span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_tile</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_c</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"magma"</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>               title <span class="op">=</span> <span class="st">"Visibility (km)"</span>,</span>
<span>               x <span class="op">=</span> <span class="st">"Time of Day"</span>,</span>
<span>               y <span class="op">=</span> <span class="st">"Date"</span>,</span>
<span>               fill <span class="op">=</span> <span class="st">"Visibility (km)"</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_datetime</a></span><span class="op">(</span></span>
<span>               labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/date_format.html">date_format</a></span><span class="op">(</span><span class="st">"%H:%M"</span><span class="op">)</span>,</span>
<span>               breaks <span class="op">=</span> <span class="st">"6 hours"</span>,</span>
<span>               minor_breaks <span class="op">=</span> <span class="st">"2 hour"</span>,</span>
<span>               guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_axis.html">guide_axis</a></span><span class="op">(</span>n.dodge <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu">ggplot_theming</span><span class="op">(</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">base_path</span> <span class="op">&lt;-</span> <span class="st">"data/plots/"</span></span>
<span>     <span class="va">plot_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">base_path</span>, <span class="st">"ggVisibilityHeat.png"</span><span class="op">)</span></span>
<span>     <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span><span class="va">plot_path</span>, plot <span class="op">=</span> <span class="va">rPlot</span>, scale <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="co"># Read the PNG file</span></span>
<span>     <span class="va">img</span> <span class="op">&lt;-</span> <span class="fu">readPNG</span><span class="op">(</span><span class="va">plot_path</span><span class="op">)</span></span>
<span>     <span class="co"># Display the image</span></span>
<span>     <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.raster.html">grid.raster</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span>
<span>     </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Visibility Categorical Heat ----</span></span>
<span><span class="va">plot_visibility_categorical_heat</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">con</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">    SELECT</span></span>
<span><span class="st">      visibility,</span></span>
<span><span class="st">      strptime('1970-01-01 ' || strftime(date, '%H:%M:%S'), '%Y-%m-%d %H:%M:%S') AS common_date,</span></span>
<span><span class="st">      strftime(date, '%b %d') AS day</span></span>
<span><span class="st">    FROM</span></span>
<span><span class="st">      hourly;</span></span>
<span><span class="st">  "</span></span>
<span>     </span>
<span>     <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">execute_query</span><span class="op">(</span><span class="va">con</span>, <span class="va">query</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu">mutate</span><span class="op">(</span></span>
<span>               visibility_category <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>                    <span class="va">visibility</span> <span class="op">&gt;</span> <span class="fl">30</span> <span class="op">*</span> <span class="fl">10</span> <span class="op">^</span> <span class="fl">3</span> <span class="op">~</span> <span class="st">"Clearest (&gt;30 km)"</span>,</span>
<span>                    <span class="va">visibility</span> <span class="op">&gt;</span> <span class="fl">10</span> <span class="op">*</span> <span class="fl">10</span> <span class="op">^</span> <span class="fl">3</span> <span class="op">~</span> <span class="st">"Excellent (10-30 km)"</span>,</span>
<span>                    <span class="va">visibility</span> <span class="op">&gt;</span> <span class="fl">5</span> <span class="op">*</span> <span class="fl">10</span> <span class="op">^</span> <span class="fl">3</span> <span class="op">~</span> <span class="st">"Good (5-10 km)"</span>,</span>
<span>                    <span class="va">visibility</span> <span class="op">&gt;</span> <span class="fl">2</span> <span class="op">*</span> <span class="fl">10</span> <span class="op">^</span> <span class="fl">3</span> <span class="op">~</span> <span class="st">"Moderate (2-5 km)"</span>,</span>
<span>                    <span class="va">visibility</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">*</span> <span class="fl">10</span> <span class="op">^</span> <span class="fl">3</span> <span class="op">~</span> <span class="st">"Low (1-2 km)"</span>,</span>
<span>                    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"Fog/Haze (&lt;1 km)"</span></span>
<span>               <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">rPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>,</span>
<span>                     <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">common_date</span>, y <span class="op">=</span> <span class="va">day</span>, fill <span class="op">=</span> <span class="va">visibility_category</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_tile</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span></span>
<span>               values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>                    <span class="st">"Clearest (&gt;30 km)"</span> <span class="op">=</span> <span class="st">"green"</span>,</span>
<span>                    <span class="st">"Excellent (10-30 km)"</span> <span class="op">=</span> <span class="st">"darkgreen"</span>,</span>
<span>                    <span class="st">"Good (5-10 km)"</span> <span class="op">=</span> <span class="st">"yellow"</span>,</span>
<span>                    <span class="st">"Moderate (2-5 km)"</span> <span class="op">=</span> <span class="st">"orange"</span>,</span>
<span>                    <span class="st">"Low (1-2 km)"</span> <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>                    <span class="st">"Fog/Haze (&lt;1 km)"</span> <span class="op">=</span> <span class="st">"purple"</span></span>
<span>               <span class="op">)</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>               title <span class="op">=</span> <span class="st">"Visibility Category Map"</span>,</span>
<span>               x <span class="op">=</span> <span class="st">"Time of Day"</span>,</span>
<span>               y <span class="op">=</span> <span class="st">"Date"</span>,</span>
<span>               fill <span class="op">=</span> <span class="st">"Visibility Level"</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_datetime</a></span><span class="op">(</span></span>
<span>               labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/date_format.html">date_format</a></span><span class="op">(</span><span class="st">"%H:%M"</span><span class="op">)</span>,</span>
<span>               breaks <span class="op">=</span> <span class="st">"6 hours"</span>,</span>
<span>               minor_breaks <span class="op">=</span> <span class="st">"2 hour"</span>,</span>
<span>               guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_axis.html">guide_axis</a></span><span class="op">(</span>n.dodge <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu">ggplot_theming</span><span class="op">(</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">base_path</span> <span class="op">&lt;-</span> <span class="st">"data/plots/"</span></span>
<span>     <span class="va">plot_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">base_path</span>, <span class="st">"ggVisibilityCat.png"</span><span class="op">)</span></span>
<span>     <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span><span class="va">plot_path</span>, plot <span class="op">=</span> <span class="va">rPlot</span>, scale <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="co"># Read the PNG file</span></span>
<span>     <span class="va">img</span> <span class="op">&lt;-</span> <span class="fu">readPNG</span><span class="op">(</span><span class="va">plot_path</span><span class="op">)</span></span>
<span>     <span class="co"># Display the image</span></span>
<span>     <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.raster.html">grid.raster</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span>
<span>     </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Weather Codes ----</span></span>
<span><span class="va">plot_weather_codes</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">con</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>          <span class="st">'0'</span>,</span>
<span>          <span class="st">'1'</span>,</span>
<span>          <span class="st">'2'</span>,</span>
<span>          <span class="st">'3'</span>,</span>
<span>          <span class="st">'45'</span>,</span>
<span>          <span class="st">'48'</span>,</span>
<span>          <span class="st">'51'</span>,</span>
<span>          <span class="st">'53'</span>,</span>
<span>          <span class="st">'55'</span>,</span>
<span>          <span class="st">'56'</span>,</span>
<span>          <span class="st">'57'</span>,</span>
<span>          <span class="st">'61'</span>,</span>
<span>          <span class="st">'63'</span>,</span>
<span>          <span class="st">'65'</span>,</span>
<span>          <span class="st">'66'</span>,</span>
<span>          <span class="st">'67'</span>,</span>
<span>          <span class="st">'71'</span>,</span>
<span>          <span class="st">'73'</span>,</span>
<span>          <span class="st">'75'</span>,</span>
<span>          <span class="st">'77'</span>,</span>
<span>          <span class="st">'80'</span>,</span>
<span>          <span class="st">'81'</span>,</span>
<span>          <span class="st">'82'</span>,</span>
<span>          <span class="st">'85'</span>,</span>
<span>          <span class="st">'86'</span>,</span>
<span>          <span class="st">'95'</span>,</span>
<span>          <span class="st">'96'</span>,</span>
<span>          <span class="st">'99'</span></span>
<span>     <span class="op">)</span></span>
<span>     <span class="va">descriptions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>          <span class="st">'Clear sky'</span>,</span>
<span>          <span class="st">'Mainly clear'</span>,</span>
<span>          <span class="st">'Partly cloudy'</span>,</span>
<span>          <span class="st">'Overcast'</span>,</span>
<span>          <span class="st">'Fog'</span>,</span>
<span>          <span class="st">'Depositing rime fog'</span>,</span>
<span>          <span class="st">'Drizzle: light'</span>,</span>
<span>          <span class="st">'Drizzle: moderate'</span>,</span>
<span>          <span class="st">'Drizzle: dense'</span>,</span>
<span>          <span class="st">'Freezing drizzle: light'</span>,</span>
<span>          <span class="st">'Freezing drizzle: dense'</span>,</span>
<span>          <span class="st">'Rain: slight'</span>,</span>
<span>          <span class="st">'Rain: moderate'</span>,</span>
<span>          <span class="st">'Rain: heavy'</span>,</span>
<span>          <span class="st">'Freezing rain: light'</span>,</span>
<span>          <span class="st">'Freezing rain: heavy'</span>,</span>
<span>          <span class="st">'Snow fall: slight'</span>,</span>
<span>          <span class="st">'Snow fall: moderate'</span>,</span>
<span>          <span class="st">'Snow fall: heavy'</span>,</span>
<span>          <span class="st">'Snow grains'</span>,</span>
<span>          <span class="st">'Rain showers: slight'</span>,</span>
<span>          <span class="st">'Rain showers: moderate'</span>,</span>
<span>          <span class="st">'Rain showers: violent'</span>,</span>
<span>          <span class="st">'Snow showers: slight'</span>,</span>
<span>          <span class="st">'Snow showers: heavy'</span>,</span>
<span>          <span class="st">'Thunderstorm: slight or moderate'</span>,</span>
<span>          <span class="st">'Thunderstorm with slight hail'</span>,</span>
<span>          <span class="st">'Thunderstorm with heavy hail'</span></span>
<span>     <span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">create_enum_and_associate</span><span class="op">(</span><span class="va">con</span>, <span class="st">"WeatherCode"</span>, <span class="va">codes</span>, <span class="va">descriptions</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">    SELECT</span></span>
<span><span class="st">      hr.weather_code::INTEGER::TEXT::WeatherCode AS weather_code,</span></span>
<span><span class="st">      wc.Description AS description,</span></span>
<span><span class="st">      strftime(hr.date, '%H:%M:%S') AS time_only,</span></span>
<span><span class="st">      strftime(hr.date, '%b %d') AS day</span></span>
<span><span class="st">    FROM</span></span>
<span><span class="st">      hourly hr</span></span>
<span><span class="st">    LEFT JOIN WeatherCode wc ON wc.Code == hr.weather_code;</span></span>
<span><span class="st">  "</span></span>
<span>     </span>
<span>     <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">execute_query</span><span class="op">(</span><span class="va">con</span>, <span class="va">query</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">data</span><span class="op">$</span><span class="va">time_only</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">time_only</span>, format <span class="op">=</span> <span class="st">"%H:%M:%S"</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">rPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">day</span>, y <span class="op">=</span> <span class="va">time_only</span>, fill <span class="op">=</span> <span class="va">description</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_tile</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/pkg/paletteer/man/ggplot2-scales-discrete.html">scale_fill_paletteer_d</a></span><span class="op">(</span><span class="st">"khroma::highcontrast"</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_y_datetime</a></span><span class="op">(</span></span>
<span>               date_labels <span class="op">=</span> <span class="st">"%H:%M"</span>,</span>
<span>               date_breaks <span class="op">=</span> <span class="st">"2 hours"</span>,</span>
<span>               sec.axis <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/sec_axis.html">dup_axis</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>               title <span class="op">=</span> <span class="st">"Weather Code Map"</span>,</span>
<span>               x <span class="op">=</span> <span class="st">"Day"</span>,</span>
<span>               y <span class="op">=</span> <span class="st">"Time of Day"</span>,</span>
<span>               fill <span class="op">=</span> <span class="st">"Weather Code"</span></span>
<span>          <span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu">ggplot_theming</span><span class="op">(</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="va">base_path</span> <span class="op">&lt;-</span> <span class="st">"data/plots/"</span></span>
<span>     <span class="va">plot_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">base_path</span>, <span class="st">"ggWeatherCodes.png"</span><span class="op">)</span></span>
<span>     <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span><span class="va">plot_path</span>, plot <span class="op">=</span> <span class="va">rPlot</span>, scale <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span>     </span>
<span>     <span class="co"># Read the PNG file</span></span>
<span>     <span class="va">img</span> <span class="op">&lt;-</span> <span class="fu">readPNG</span><span class="op">(</span><span class="va">plot_path</span><span class="op">)</span></span>
<span>     <span class="co"># Display the image</span></span>
<span>     <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.raster.html">grid.raster</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span>
<span>     </span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="fig-weather" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-weather-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell-subref quarto-layout-cell" data-lightbox="{&quot;group&quot;:&quot;weather&quot;,&quot;description&quot;:&quot;Simple weather codes for simple insights.&quot;}" data-ref-parent="fig-weather" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="cell-output-display quarto-layout-cell-subref" data-ref-parent="fig-weather">
<div id="fig-weather_codes" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-weather_codes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-weather_codes-1.png" class="lightbox" data-gallery="fig-weather" title="Figure&nbsp;1&nbsp;(a): Weather Codes"><img src="index_files/figure-html/fig-weather_codes-1.png" class="img-fluid figure-img" data-ref-parent="fig-weather" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-weather_codes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Weather Codes
</figcaption></figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell-subref quarto-layout-cell" data-lightbox="{&quot;group&quot;:&quot;weather&quot;,&quot;description&quot;:&quot;Temperature with freezing point indicators.&quot;}" data-ref-parent="fig-weather" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="cell-output-display quarto-layout-cell-subref" data-ref-parent="fig-weather">
<div id="fig-temperature_freezing" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-temperature_freezing-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-temperature_freezing-1.png" class="lightbox" data-gallery="fig-weather" title="Figure&nbsp;1&nbsp;(b): Freezing/Non-Freezing Temperature"><img src="index_files/figure-html/fig-temperature_freezing-1.png" class="img-fluid figure-img" data-ref-parent="fig-weather" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-temperature_freezing-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Freezing/Non-Freezing Temperature
</figcaption></figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell-subref quarto-layout-cell" data-lightbox="{&quot;group&quot;:&quot;weather&quot;,&quot;description&quot;:&quot;Visibility in kilometers.&quot;}" data-ref-parent="fig-weather" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="cell-output-display quarto-layout-cell-subref" data-ref-parent="fig-weather">
<div id="fig-visibility_km" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-visibility_km-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-visibility_km-1.png" class="lightbox" data-gallery="fig-weather" title="Figure&nbsp;1&nbsp;(c): Visibility (km)"><img src="index_files/figure-html/fig-visibility_km-1.png" class="img-fluid figure-img" data-ref-parent="fig-weather" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-visibility_km-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Visibility (km)
</figcaption></figure>
</div>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell-subref quarto-layout-cell" data-lightbox="{&quot;group&quot;:&quot;weather&quot;,&quot;description&quot;:&quot;Simple weather codes for simple insights.&quot;}" data-ref-parent="fig-weather" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="cell-output-display quarto-layout-cell-subref" data-ref-parent="fig-weather">
<div id="fig-visibility_categories" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-visibility_categories-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-visibility_categories-1.png" class="lightbox" data-gallery="fig-weather" title="Figure&nbsp;1&nbsp;(d): Visibility Categories"><img src="index_files/figure-html/fig-visibility_categories-1.png" class="img-fluid figure-img" data-ref-parent="fig-weather" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-visibility_categories-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(d) Visibility Categories
</figcaption></figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell-subref quarto-layout-cell" data-lightbox="{&quot;group&quot;:&quot;weather&quot;,&quot;description&quot;:&quot;Indicator for rain and or snowfall.&quot;}" data-ref-parent="fig-weather" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="cell-output-display quarto-layout-cell-subref" data-ref-parent="fig-weather">
<div id="fig-precipitation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-precipitation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-precipitation-1.png" class="lightbox" data-gallery="fig-weather" title="Figure&nbsp;1&nbsp;(e): Precipitation (empty if no precipitation)"><img src="index_files/figure-html/fig-precipitation-1.png" class="img-fluid figure-img" data-ref-parent="fig-weather" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-precipitation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(e) Precipitation (empty if no precipitation)
</figcaption></figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell-subref quarto-layout-cell" data-lightbox="{&quot;group&quot;:&quot;weather&quot;,&quot;description&quot;:&quot;Wind direction and speed.&quot;}" data-ref-parent="fig-weather" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="cell-output-display quarto-layout-cell-subref" data-ref-parent="fig-weather">
<div id="fig-wind_rose" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure"><div aria-describedby="fig-wind_rose-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-wind_rose-1.png" class="lightbox" data-gallery="fig-weather" title="Figure&nbsp;1&nbsp;(f): Wind Rose"><img src="index_files/figure-html/fig-wind_rose-1.png" class="img-fluid figure-img" data-ref-parent="fig-weather" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-wind_rose-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(f) Wind Rose
</figcaption></figure>
</div>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-weather-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: These are the grouped figures.
</figcaption></figure>
</div>
<p><a href="#fig-weather" class="quarto-xref">Figure&nbsp;1</a></p>
<p><a href="#fig-weather_codes" class="quarto-xref">Figure&nbsp;1 (a)</a></p>
<p><a href="#fig-temperature_freezing" class="quarto-xref">Figure&nbsp;1 (b)</a></p>
<p><a href="#fig-visibility_km" class="quarto-xref">Figure&nbsp;1 (c)</a></p>
<p><a href="#fig-visibility_categories" class="quarto-xref">Figure&nbsp;1 (d)</a></p>
<p><a href="#fig-precipitation" class="quarto-xref">Figure&nbsp;1 (e)</a></p>
<p><a href="#fig-wind_rose" class="quarto-xref">Figure&nbsp;1 (f)</a></p>
</section><section id="disconnect-from-databases" class="level2"><h2 class="anchored" data-anchor-id="disconnect-from-databases">Disconnect From Databases</h2>
<div class="code-fold-flex">
<div class="cell">
<details class="code-fold"><summary>Dereference memory from the in-memory database connections.</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#dbDisconnect(mssql_con)</span></span>
<span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">duckdb_con</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>


<!-- -->


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb12" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "TruckerWeather"</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> bibliography/references.bib</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="an">citation:</span><span class="co"> false</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="an">citation-location:</span><span class="co"> margin</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="an">citations-hover:</span><span class="co"> true</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="an">code-copy:</span><span class="co"> true</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="an">code-fold:</span><span class="co"> true</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="an">code-link:</span><span class="co"> true</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="an">code-overflow:</span><span class="co"> wrap</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="an">fig-responsive:</span><span class="co"> true</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="an">lightbox:</span><span class="co"> true</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="an">source:</span><span class="co"> true</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rLibraries</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arrow)</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dbplyr)</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(duckdb)</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(odbc)</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openair)</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a><span class="co">#library(pillar)</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pryr)</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(paletteer)</span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a><span class="co">#library(plotly)</span></span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a><span class="co">#library(plumber)</span></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(png)</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a><span class="co">#library(profvis)</span></span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: pythonImports</span></span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openmeteo_requests</span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> polars <span class="im">as</span> pl</span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests_cache</span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> retry_requests <span class="im">import</span> retry</span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a><span class="fu">## Database Connections</span></span>
<span id="cb12-72"><a href="#cb12-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-73"><a href="#cb12-73" aria-hidden="true" tabindex="-1"></a><span class="fu">### MSSQL</span></span>
<span id="cb12-74"><a href="#cb12-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-77"><a href="#cb12-77" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-78"><a href="#cb12-78" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb12-79"><a href="#cb12-79" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb12-80"><a href="#cb12-80" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-81"><a href="#cb12-81" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "What you would execute in your terminal if on Ubuntu to get the odbc drivers for mssql connections."</span></span>
<span id="cb12-82"><a href="#cb12-82" aria-hidden="true" tabindex="-1"></a><span class="do">##| file: "practice/Bash/mssql_odbc_driver.sh"</span></span>
<span id="cb12-83"><a href="#cb12-83" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-84"><a href="#cb12-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-87"><a href="#cb12-87" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-88"><a href="#cb12-88" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "mssqlconnect"</span></span>
<span id="cb12-89"><a href="#cb12-89" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Connects to a dockerized mssql database."</span></span>
<span id="cb12-90"><a href="#cb12-90" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb12-91"><a href="#cb12-91" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb12-92"><a href="#cb12-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-93"><a href="#cb12-93" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up the connection</span></span>
<span id="cb12-94"><a href="#cb12-94" aria-hidden="true" tabindex="-1"></a>mssql_con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(</span>
<span id="cb12-95"><a href="#cb12-95" aria-hidden="true" tabindex="-1"></a>  odbc<span class="sc">::</span><span class="fu">odbc</span>(),</span>
<span id="cb12-96"><a href="#cb12-96" aria-hidden="true" tabindex="-1"></a>  <span class="at">driver =</span> <span class="st">"ODBC Driver 18 for SQL Server"</span>, </span>
<span id="cb12-97"><a href="#cb12-97" aria-hidden="true" tabindex="-1"></a>  <span class="at">server =</span> <span class="st">"localhost,1433"</span>,               </span>
<span id="cb12-98"><a href="#cb12-98" aria-hidden="true" tabindex="-1"></a>  <span class="at">database =</span> <span class="st">"TestDB"</span>,                    </span>
<span id="cb12-99"><a href="#cb12-99" aria-hidden="true" tabindex="-1"></a>  <span class="at">uid =</span> <span class="st">"sa"</span>,                             </span>
<span id="cb12-100"><a href="#cb12-100" aria-hidden="true" tabindex="-1"></a>  <span class="at">pwd =</span> <span class="st">"MyStr@ngPassw0rd11"</span>,             </span>
<span id="cb12-101"><a href="#cb12-101" aria-hidden="true" tabindex="-1"></a>  <span class="at">TrustServerCertificate =</span> <span class="st">"yes"</span></span>
<span id="cb12-102"><a href="#cb12-102" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-103"><a href="#cb12-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-104"><a href="#cb12-104" aria-hidden="true" tabindex="-1"></a><span class="co"># Test the connection</span></span>
<span id="cb12-105"><a href="#cb12-105" aria-hidden="true" tabindex="-1"></a><span class="co">#dbListTables(con)  # List tables in the database to verify the connection</span></span>
<span id="cb12-106"><a href="#cb12-106" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-107"><a href="#cb12-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-108"><a href="#cb12-108" aria-hidden="true" tabindex="-1"></a><span class="fu">### DuckDB</span></span>
<span id="cb12-109"><a href="#cb12-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-110"><a href="#cb12-110" aria-hidden="true" tabindex="-1"></a>::: code-fold-flex</span>
<span id="cb12-113"><a href="#cb12-113" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-114"><a href="#cb12-114" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "duckDBconnected"</span></span>
<span id="cb12-115"><a href="#cb12-115" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Establish a DuckDB, embedded database connection."</span></span>
<span id="cb12-116"><a href="#cb12-116" aria-hidden="true" tabindex="-1"></a>duckdb_con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(duckdb<span class="sc">::</span><span class="fu">duckdb</span>(</span>
<span id="cb12-117"><a href="#cb12-117" aria-hidden="true" tabindex="-1"></a>     <span class="at">config =</span> <span class="fu">list</span>(<span class="at">max_memory =</span> <span class="st">'24GB'</span>)), <span class="st">":memory:"</span>)</span>
<span id="cb12-118"><a href="#cb12-118" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-119"><a href="#cb12-119" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb12-120"><a href="#cb12-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-121"><a href="#cb12-121" aria-hidden="true" tabindex="-1"></a><span class="fu">## Custom Output Tools</span></span>
<span id="cb12-122"><a href="#cb12-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-123"><a href="#cb12-123" aria-hidden="true" tabindex="-1"></a><span class="fu">### Tables</span></span>
<span id="cb12-124"><a href="#cb12-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-125"><a href="#cb12-125" aria-hidden="true" tabindex="-1"></a>::: code-fold-flex</span>
<span id="cb12-128"><a href="#cb12-128" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-129"><a href="#cb12-129" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "loadTableOutput"</span></span>
<span id="cb12-130"><a href="#cb12-130" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Table formatting code."</span></span>
<span id="cb12-131"><a href="#cb12-131" aria-hidden="true" tabindex="-1"></a><span class="co">#| file: "scripts/Output/Tables/table_output.R"</span></span>
<span id="cb12-132"><a href="#cb12-132" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-133"><a href="#cb12-133" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb12-134"><a href="#cb12-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-135"><a href="#cb12-135" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Plots</span></span>
<span id="cb12-136"><a href="#cb12-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-137"><a href="#cb12-137" aria-hidden="true" tabindex="-1"></a>::: code-fold-flex</span>
<span id="cb12-140"><a href="#cb12-140" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-141"><a href="#cb12-141" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "loadPlotOutput"</span></span>
<span id="cb12-142"><a href="#cb12-142" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Plot theming code."</span></span>
<span id="cb12-143"><a href="#cb12-143" aria-hidden="true" tabindex="-1"></a><span class="co">#| file: "scripts/Output/Plots/plot_output.R"</span></span>
<span id="cb12-144"><a href="#cb12-144" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-145"><a href="#cb12-145" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb12-146"><a href="#cb12-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-147"><a href="#cb12-147" aria-hidden="true" tabindex="-1"></a><span class="fu">## Weather Data API Connection</span></span>
<span id="cb12-148"><a href="#cb12-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-149"><a href="#cb12-149" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@openMeteo_2025</span><span class="co">]</span></span>
<span id="cb12-150"><a href="#cb12-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-151"><a href="#cb12-151" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Realistic Coordinate Examples</span></span>
<span id="cb12-152"><a href="#cb12-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-153"><a href="#cb12-153" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Intersection of Hwy 70 &amp; 270</span>
<span id="cb12-154"><a href="#cb12-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-155"><a href="#cb12-155" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>38.748, -90.439</span>
<span id="cb12-156"><a href="#cb12-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-157"><a href="#cb12-157" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The St. Louis Regional Freightway</span>
<span id="cb12-158"><a href="#cb12-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-159"><a href="#cb12-159" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>38.627480, -90.189781</span>
<span id="cb12-160"><a href="#cb12-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-161"><a href="#cb12-161" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Port of St. Louis</span>
<span id="cb12-162"><a href="#cb12-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-163"><a href="#cb12-163" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>38.609215, -90.204275</span>
<span id="cb12-164"><a href="#cb12-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-165"><a href="#cb12-165" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>USPS Office Kansas City International Airport</span>
<span id="cb12-166"><a href="#cb12-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-167"><a href="#cb12-167" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>KC, MO</span>
<span id="cb12-168"><a href="#cb12-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-169"><a href="#cb12-169" aria-hidden="true" tabindex="-1"></a><span class="ss">        -   </span>39.304413, -94.720711</span>
<span id="cb12-170"><a href="#cb12-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-171"><a href="#cb12-171" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Walmart Distribution Center</span>
<span id="cb12-172"><a href="#cb12-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-173"><a href="#cb12-173" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>1100 Matlock Dr, Saint James, MO 65559-9026</span>
<span id="cb12-174"><a href="#cb12-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-175"><a href="#cb12-175" aria-hidden="true" tabindex="-1"></a><span class="ss">        -   </span>38.002338, -91.634422</span>
<span id="cb12-176"><a href="#cb12-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-177"><a href="#cb12-177" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>KCS International Freight Gateway</span>
<span id="cb12-178"><a href="#cb12-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-179"><a href="#cb12-179" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>3301 East 147th Street, Kansas City, MO 64147</span>
<span id="cb12-180"><a href="#cb12-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-181"><a href="#cb12-181" aria-hidden="true" tabindex="-1"></a><span class="ss">        -   </span>38.84930037041913, -94.55499143307868</span>
<span id="cb12-182"><a href="#cb12-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-183"><a href="#cb12-183" aria-hidden="true" tabindex="-1"></a><span class="fu">### Import Hourly Data</span></span>
<span id="cb12-184"><a href="#cb12-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-185"><a href="#cb12-185" aria-hidden="true" tabindex="-1"></a>::: code-fold-flex</span>
<span id="cb12-188"><a href="#cb12-188" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb12-189"><a href="#cb12-189" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: loadHourlyAPIscript</span></span>
<span id="cb12-190"><a href="#cb12-190" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Run the API script to import the dataset."</span></span>
<span id="cb12-191"><a href="#cb12-191" aria-hidden="true" tabindex="-1"></a><span class="co">#| file: "scripts/Import/API/Hourly/import_api_hourly.py"</span></span>
<span id="cb12-192"><a href="#cb12-192" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-193"><a href="#cb12-193" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb12-194"><a href="#cb12-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-195"><a href="#cb12-195" aria-hidden="true" tabindex="-1"></a>::: code-fold-flex</span>
<span id="cb12-198"><a href="#cb12-198" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-199"><a href="#cb12-199" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: registerHourlyAPIdata</span></span>
<span id="cb12-200"><a href="#cb12-200" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Register hourly api results as a virtual table."</span></span>
<span id="cb12-201"><a href="#cb12-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-202"><a href="#cb12-202" aria-hidden="true" tabindex="-1"></a><span class="fu">duckdb_register</span>(duckdb_con, </span>
<span id="cb12-203"><a href="#cb12-203" aria-hidden="true" tabindex="-1"></a>                <span class="st">"hourly"</span>, </span>
<span id="cb12-204"><a href="#cb12-204" aria-hidden="true" tabindex="-1"></a>                py<span class="sc">$</span><span class="fu">import_api_hourly</span>(<span class="fl">38.748</span>, <span class="sc">-</span><span class="fl">90.439</span>),</span>
<span id="cb12-205"><a href="#cb12-205" aria-hidden="true" tabindex="-1"></a>                <span class="at">overwrite =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-206"><a href="#cb12-206" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-207"><a href="#cb12-207" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb12-208"><a href="#cb12-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-209"><a href="#cb12-209" aria-hidden="true" tabindex="-1"></a><span class="fu">## Model Background Info</span></span>
<span id="cb12-210"><a href="#cb12-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-211"><a href="#cb12-211" aria-hidden="true" tabindex="-1"></a>::: p-1</span>
<span id="cb12-212"><a href="#cb12-212" aria-hidden="true" tabindex="-1"></a>The study, published in the *Weather and Forecasting* journal, focuses on evaluating and improving the accuracy of weather prediction models, particularly for severe weather events. It examines the performance of high-resolution numerical weather prediction (NWP) models in forecasting convective storms, which are critical for predicting severe weather such as thunderstorms, hail, and tornadoes. The research highlights advancements in model resolution, data assimilation techniques, and the integration of observational data to enhance forecast precision. The findings emphasize the importance of these improvements for short-term (nowcasting) and medium-range forecasts, particularly in regions prone to severe weather, like the central United States (including Missouri). @dowell_high-resolution_2022</span>
<span id="cb12-213"><a href="#cb12-213" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb12-214"><a href="#cb12-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-215"><a href="#cb12-215" aria-hidden="true" tabindex="-1"></a>::: code-fold-flex</span>
<span id="cb12-218"><a href="#cb12-218" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-219"><a href="#cb12-219" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "forecastModelDescription"</span></span>
<span id="cb12-220"><a href="#cb12-220" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "table setup"</span></span>
<span id="cb12-221"><a href="#cb12-221" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-222"><a href="#cb12-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-223"><a href="#cb12-223" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the tibble</span></span>
<span id="cb12-224"><a href="#cb12-224" aria-hidden="true" tabindex="-1"></a>forecast_models <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb12-225"><a href="#cb12-225" aria-hidden="true" tabindex="-1"></a>     <span class="at">Model =</span> <span class="fu">c</span>(<span class="st">"GFS"</span>, <span class="st">"HRRR"</span>),</span>
<span id="cb12-226"><a href="#cb12-226" aria-hidden="true" tabindex="-1"></a>     <span class="at">Developed_By =</span> <span class="fu">c</span>(</span>
<span id="cb12-227"><a href="#cb12-227" aria-hidden="true" tabindex="-1"></a>          <span class="st">"NOAA (National Oceanic and Atmospheric Administration)"</span>,</span>
<span id="cb12-228"><a href="#cb12-228" aria-hidden="true" tabindex="-1"></a>          <span class="st">"NOAA (specifically by the Earth System Research Laboratory)"</span></span>
<span id="cb12-229"><a href="#cb12-229" aria-hidden="true" tabindex="-1"></a>     ),</span>
<span id="cb12-230"><a href="#cb12-230" aria-hidden="true" tabindex="-1"></a>     <span class="at">Scope =</span> <span class="fu">c</span>(</span>
<span id="cb12-231"><a href="#cb12-231" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Global"</span>,</span>
<span id="cb12-232"><a href="#cb12-232" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Regional (primarily focused on the contiguous United States)"</span></span>
<span id="cb12-233"><a href="#cb12-233" aria-hidden="true" tabindex="-1"></a>     ),</span>
<span id="cb12-234"><a href="#cb12-234" aria-hidden="true" tabindex="-1"></a>     <span class="at">Resolution =</span> <span class="fu">c</span>(</span>
<span id="cb12-235"><a href="#cb12-235" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Lower resolution compared to HRRR (approximately 13 km as of recent updates)"</span>,</span>
<span id="cb12-236"><a href="#cb12-236" aria-hidden="true" tabindex="-1"></a>          <span class="st">"High resolution (3 km)"</span></span>
<span id="cb12-237"><a href="#cb12-237" aria-hidden="true" tabindex="-1"></a>     ),</span>
<span id="cb12-238"><a href="#cb12-238" aria-hidden="true" tabindex="-1"></a>     <span class="at">Forecast_Range =</span> <span class="fu">c</span>(<span class="st">"Up to 16 days"</span>, <span class="st">"Up to 18 hours"</span>),</span>
<span id="cb12-239"><a href="#cb12-239" aria-hidden="true" tabindex="-1"></a>     <span class="at">Updates =</span> <span class="fu">c</span>(<span class="st">"Runs four times a day (00Z, 06Z, 12Z, 18Z)"</span>, <span class="st">"Runs every hour"</span>),</span>
<span id="cb12-240"><a href="#cb12-240" aria-hidden="true" tabindex="-1"></a>     <span class="at">Applications =</span> <span class="fu">c</span>(</span>
<span id="cb12-241"><a href="#cb12-241" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Used for long-term weather forecasting, climate modeling, and global weather patterns."</span>,</span>
<span id="cb12-242"><a href="#cb12-242" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Ideal for short-term, detailed weather forecasting, including severe weather events like thunderstorms, tornadoes, and localized precipitation."</span></span>
<span id="cb12-243"><a href="#cb12-243" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb12-244"><a href="#cb12-244" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-245"><a href="#cb12-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-246"><a href="#cb12-246" aria-hidden="true" tabindex="-1"></a>locations_list <span class="ot">=</span> <span class="fu">colnames</span>(forecast_models)</span>
<span id="cb12-247"><a href="#cb12-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-248"><a href="#cb12-248" aria-hidden="true" tabindex="-1"></a>notes_list <span class="ot">=</span>  <span class="fu">list</span>(</span>
<span id="cb12-249"><a href="#cb12-249" aria-hidden="true" tabindex="-1"></a>     <span class="st">""</span>,</span>
<span id="cb12-250"><a href="#cb12-250" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Organization or entity responsible for developing the model."</span>,</span>
<span id="cb12-251"><a href="#cb12-251" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Geographical coverage of the model (e.g., global or regional)."</span>,</span>
<span id="cb12-252"><a href="#cb12-252" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Spatial resolution of the model, indicating the level of detail in the forecasts."</span>,</span>
<span id="cb12-253"><a href="#cb12-253" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Time period for which the model provides forecasts."</span>,</span>
<span id="cb12-254"><a href="#cb12-254" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Frequency at which the model is updated with new data."</span>,</span>
<span id="cb12-255"><a href="#cb12-255" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Primary uses and strengths of the model in weather forecasting."</span></span>
<span id="cb12-256"><a href="#cb12-256" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-257"><a href="#cb12-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-258"><a href="#cb12-258" aria-hidden="true" tabindex="-1"></a>footnotes_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb12-259"><a href="#cb12-259" aria-hidden="true" tabindex="-1"></a>  <span class="at">notes =</span> notes_list, </span>
<span id="cb12-260"><a href="#cb12-260" aria-hidden="true" tabindex="-1"></a>  <span class="at">locations =</span> locations_list)</span>
<span id="cb12-261"><a href="#cb12-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-262"><a href="#cb12-262" aria-hidden="true" tabindex="-1"></a>pal_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb12-263"><a href="#cb12-263" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> locations_list</span>
<span id="cb12-264"><a href="#cb12-264" aria-hidden="true" tabindex="-1"></a><span class="co">#  pals = list(eval_palette("viridis::viridis", 2, 'c', 1))</span></span>
<span id="cb12-265"><a href="#cb12-265" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-266"><a href="#cb12-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-267"><a href="#cb12-267" aria-hidden="true" tabindex="-1"></a>rTable <span class="ot">&lt;-</span> <span class="fu">r_table_theming</span>(</span>
<span id="cb12-268"><a href="#cb12-268" aria-hidden="true" tabindex="-1"></a>forecast_models,</span>
<span id="cb12-269"><a href="#cb12-269" aria-hidden="true" tabindex="-1"></a><span class="at">title =</span> <span class="st">"Forecast Models: Attributes"</span>,</span>
<span id="cb12-270"><a href="#cb12-270" aria-hidden="true" tabindex="-1"></a><span class="at">subtitle =</span> <span class="cn">NULL</span>,</span>
<span id="cb12-271"><a href="#cb12-271" aria-hidden="true" tabindex="-1"></a>footnotes_df,</span>
<span id="cb12-272"><a href="#cb12-272" aria-hidden="true" tabindex="-1"></a><span class="at">source_note =</span> <span class="fu">md</span>(<span class="st">"**source**: "</span>),</span>
<span id="cb12-273"><a href="#cb12-273" aria-hidden="true" tabindex="-1"></a>pal_df,</span>
<span id="cb12-274"><a href="#cb12-274" aria-hidden="true" tabindex="-1"></a><span class="at">multiline_feet =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-275"><a href="#cb12-275" aria-hidden="true" tabindex="-1"></a><span class="at">tbl_font_size =</span> <span class="fu">pct</span>(<span class="dv">85</span>),</span>
<span id="cb12-276"><a href="#cb12-276" aria-hidden="true" tabindex="-1"></a><span class="at">target_everything =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-277"><a href="#cb12-277" aria-hidden="true" tabindex="-1"></a><span class="at">row_name_col =</span> <span class="st">"Model"</span></span>
<span id="cb12-278"><a href="#cb12-278" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-279"><a href="#cb12-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-280"><a href="#cb12-280" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-281"><a href="#cb12-281" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb12-282"><a href="#cb12-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-285"><a href="#cb12-285" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-286"><a href="#cb12-286" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "tbl-modelAttributes"</span></span>
<span id="cb12-287"><a href="#cb12-287" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-288"><a href="#cb12-288" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-289"><a href="#cb12-289" aria-hidden="true" tabindex="-1"></a>rTable</span>
<span id="cb12-290"><a href="#cb12-290" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-291"><a href="#cb12-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-292"><a href="#cb12-292" aria-hidden="true" tabindex="-1"></a>::: code-fold-flex</span>
<span id="cb12-295"><a href="#cb12-295" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-296"><a href="#cb12-296" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "modelDiffSetup"</span></span>
<span id="cb12-297"><a href="#cb12-297" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "table setup"</span></span>
<span id="cb12-298"><a href="#cb12-298" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb12-299"><a href="#cb12-299" aria-hidden="true" tabindex="-1"></a><span class="co">#| error: false</span></span>
<span id="cb12-300"><a href="#cb12-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-301"><a href="#cb12-301" aria-hidden="true" tabindex="-1"></a>forecast_model_differences <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb12-302"><a href="#cb12-302" aria-hidden="true" tabindex="-1"></a><span class="st">"Resolution"</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb12-303"><a href="#cb12-303" aria-hidden="true" tabindex="-1"></a><span class="st">"HRRR has a much higher resolution than GFS, making it more accurate for short-term, localized forecasts."</span></span>
<span id="cb12-304"><a href="#cb12-304" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb12-305"><a href="#cb12-305" aria-hidden="true" tabindex="-1"></a><span class="st">"Forecast_Range"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"GFS provides forecasts for a much longer period compared to HRRR."</span>),</span>
<span id="cb12-306"><a href="#cb12-306" aria-hidden="true" tabindex="-1"></a><span class="st">"Update_Frequency"</span> <span class="ot">=</span>  <span class="fu">c</span>(</span>
<span id="cb12-307"><a href="#cb12-307" aria-hidden="true" tabindex="-1"></a><span class="st">"HRRR updates more frequently, which is crucial for capturing rapidly changing weather conditions."</span></span>
<span id="cb12-308"><a href="#cb12-308" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-309"><a href="#cb12-309" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-310"><a href="#cb12-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-311"><a href="#cb12-311" aria-hidden="true" tabindex="-1"></a>locations_list <span class="ot">=</span> <span class="fu">colnames</span>(forecast_model_differences)</span>
<span id="cb12-312"><a href="#cb12-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-313"><a href="#cb12-313" aria-hidden="true" tabindex="-1"></a>notes_list <span class="ot">=</span>  <span class="fu">list</span>(</span>
<span id="cb12-314"><a href="#cb12-314" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Spatial resolution of the model, indicating the level of detail in the forecasts."</span>,</span>
<span id="cb12-315"><a href="#cb12-315" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Time period for which the model provides forecasts."</span>,</span>
<span id="cb12-316"><a href="#cb12-316" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Frequency at which the model is updated with new data."</span>)</span>
<span id="cb12-317"><a href="#cb12-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-318"><a href="#cb12-318" aria-hidden="true" tabindex="-1"></a>footnotes_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb12-319"><a href="#cb12-319" aria-hidden="true" tabindex="-1"></a>  <span class="at">notes =</span> notes_list, </span>
<span id="cb12-320"><a href="#cb12-320" aria-hidden="true" tabindex="-1"></a>  <span class="at">locations =</span> locations_list)</span>
<span id="cb12-321"><a href="#cb12-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-322"><a href="#cb12-322" aria-hidden="true" tabindex="-1"></a>pal_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb12-323"><a href="#cb12-323" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> locations_list</span>
<span id="cb12-324"><a href="#cb12-324" aria-hidden="true" tabindex="-1"></a><span class="co">#  pals = list(eval_palette("viridis::viridis", 2, 'c', 1))</span></span>
<span id="cb12-325"><a href="#cb12-325" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-326"><a href="#cb12-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-327"><a href="#cb12-327" aria-hidden="true" tabindex="-1"></a>rTable <span class="ot">&lt;-</span> <span class="fu">r_table_theming</span>(</span>
<span id="cb12-328"><a href="#cb12-328" aria-hidden="true" tabindex="-1"></a>forecast_model_differences,</span>
<span id="cb12-329"><a href="#cb12-329" aria-hidden="true" tabindex="-1"></a><span class="at">title =</span> <span class="st">"Forecast Models: Differences"</span>,</span>
<span id="cb12-330"><a href="#cb12-330" aria-hidden="true" tabindex="-1"></a><span class="at">subtitle =</span> <span class="cn">NULL</span>,</span>
<span id="cb12-331"><a href="#cb12-331" aria-hidden="true" tabindex="-1"></a>footnotes_df,</span>
<span id="cb12-332"><a href="#cb12-332" aria-hidden="true" tabindex="-1"></a><span class="at">source_note =</span> <span class="fu">md</span>(<span class="st">"**source**: Kaggle"</span>),</span>
<span id="cb12-333"><a href="#cb12-333" aria-hidden="true" tabindex="-1"></a>pal_df,</span>
<span id="cb12-334"><a href="#cb12-334" aria-hidden="true" tabindex="-1"></a><span class="at">multiline_feet =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-335"><a href="#cb12-335" aria-hidden="true" tabindex="-1"></a><span class="at">tbl_font_size =</span> <span class="fu">pct</span>(<span class="dv">85</span>),</span>
<span id="cb12-336"><a href="#cb12-336" aria-hidden="true" tabindex="-1"></a><span class="at">target_everything =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-337"><a href="#cb12-337" aria-hidden="true" tabindex="-1"></a><span class="at">row_name_col =</span> <span class="cn">NULL</span></span>
<span id="cb12-338"><a href="#cb12-338" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-339"><a href="#cb12-339" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-340"><a href="#cb12-340" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb12-341"><a href="#cb12-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-344"><a href="#cb12-344" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-345"><a href="#cb12-345" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "tbl-modelDiffs"</span></span>
<span id="cb12-346"><a href="#cb12-346" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-347"><a href="#cb12-347" aria-hidden="true" tabindex="-1"></a>rTable</span>
<span id="cb12-348"><a href="#cb12-348" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-349"><a href="#cb12-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-350"><a href="#cb12-350" aria-hidden="true" tabindex="-1"></a><span class="fu">## Weather Condition Analysis</span></span>
<span id="cb12-351"><a href="#cb12-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-352"><a href="#cb12-352" aria-hidden="true" tabindex="-1"></a>::: code-fold-flex</span>
<span id="cb12-355"><a href="#cb12-355" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-356"><a href="#cb12-356" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "loadPlots"</span></span>
<span id="cb12-357"><a href="#cb12-357" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Plot load."</span></span>
<span id="cb12-358"><a href="#cb12-358" aria-hidden="true" tabindex="-1"></a><span class="co">#| file: "scripts/Output/Plots/plot_load.R"</span></span>
<span id="cb12-359"><a href="#cb12-359" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-360"><a href="#cb12-360" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb12-361"><a href="#cb12-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-362"><a href="#cb12-362" aria-hidden="true" tabindex="-1"></a>::: {#fig-weather layout-ncol="3" fig-cap="These are the grouped figures."}</span>
<span id="cb12-365"><a href="#cb12-365" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-366"><a href="#cb12-366" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "fig-weather_codes"</span></span>
<span id="cb12-367"><a href="#cb12-367" aria-hidden="true" tabindex="-1"></a><span class="co">#| lightbox: </span></span>
<span id="cb12-368"><a href="#cb12-368" aria-hidden="true" tabindex="-1"></a><span class="co">#|   group: weather</span></span>
<span id="cb12-369"><a href="#cb12-369" aria-hidden="true" tabindex="-1"></a><span class="co">#|   description: "Simple weather codes for simple insights." </span></span>
<span id="cb12-370"><a href="#cb12-370" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Weather Codes"</span></span>
<span id="cb12-371"><a href="#cb12-371" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-372"><a href="#cb12-372" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-373"><a href="#cb12-373" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb12-374"><a href="#cb12-374" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_weather_codes</span>(duckdb_con)</span>
<span id="cb12-375"><a href="#cb12-375" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-376"><a href="#cb12-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-379"><a href="#cb12-379" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-380"><a href="#cb12-380" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "fig-temperature_freezing"</span></span>
<span id="cb12-381"><a href="#cb12-381" aria-hidden="true" tabindex="-1"></a><span class="co">#| lightbox: </span></span>
<span id="cb12-382"><a href="#cb12-382" aria-hidden="true" tabindex="-1"></a><span class="co">#|   group: weather</span></span>
<span id="cb12-383"><a href="#cb12-383" aria-hidden="true" tabindex="-1"></a><span class="co">#|   description: "Temperature with freezing point indicators." </span></span>
<span id="cb12-384"><a href="#cb12-384" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: "Freezing/Non-Freezing Temperature"</span></span>
<span id="cb12-385"><a href="#cb12-385" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-386"><a href="#cb12-386" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-387"><a href="#cb12-387" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb12-388"><a href="#cb12-388" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_temperature_trend</span>(duckdb_con)</span>
<span id="cb12-389"><a href="#cb12-389" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-390"><a href="#cb12-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-393"><a href="#cb12-393" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-394"><a href="#cb12-394" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "fig-visibility_km"</span></span>
<span id="cb12-395"><a href="#cb12-395" aria-hidden="true" tabindex="-1"></a><span class="co">#| lightbox: </span></span>
<span id="cb12-396"><a href="#cb12-396" aria-hidden="true" tabindex="-1"></a><span class="co">#|   group: weather</span></span>
<span id="cb12-397"><a href="#cb12-397" aria-hidden="true" tabindex="-1"></a><span class="co">#|   description: "Visibility in kilometers." </span></span>
<span id="cb12-398"><a href="#cb12-398" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Visibility (km)"</span></span>
<span id="cb12-399"><a href="#cb12-399" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-400"><a href="#cb12-400" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-401"><a href="#cb12-401" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb12-402"><a href="#cb12-402" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_visibility_heat</span>(duckdb_con)</span>
<span id="cb12-403"><a href="#cb12-403" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-404"><a href="#cb12-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-407"><a href="#cb12-407" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-408"><a href="#cb12-408" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "fig-visibility_categories"</span></span>
<span id="cb12-409"><a href="#cb12-409" aria-hidden="true" tabindex="-1"></a><span class="co">#| lightbox: </span></span>
<span id="cb12-410"><a href="#cb12-410" aria-hidden="true" tabindex="-1"></a><span class="co">#|   group: weather</span></span>
<span id="cb12-411"><a href="#cb12-411" aria-hidden="true" tabindex="-1"></a><span class="co">#|   description: "Simple weather codes for simple insights." </span></span>
<span id="cb12-412"><a href="#cb12-412" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Visibility Categories"</span></span>
<span id="cb12-413"><a href="#cb12-413" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-414"><a href="#cb12-414" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-415"><a href="#cb12-415" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb12-416"><a href="#cb12-416" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_visibility_categorical_heat</span>(duckdb_con)</span>
<span id="cb12-417"><a href="#cb12-417" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-418"><a href="#cb12-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-421"><a href="#cb12-421" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-422"><a href="#cb12-422" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "fig-precipitation"</span></span>
<span id="cb12-423"><a href="#cb12-423" aria-hidden="true" tabindex="-1"></a><span class="co">#| lightbox: </span></span>
<span id="cb12-424"><a href="#cb12-424" aria-hidden="true" tabindex="-1"></a><span class="co">#|   group: weather</span></span>
<span id="cb12-425"><a href="#cb12-425" aria-hidden="true" tabindex="-1"></a><span class="co">#|   description: "Indicator for rain and or snowfall." </span></span>
<span id="cb12-426"><a href="#cb12-426" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Precipitation (empty if no precipitation)"</span></span>
<span id="cb12-427"><a href="#cb12-427" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-428"><a href="#cb12-428" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-429"><a href="#cb12-429" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb12-430"><a href="#cb12-430" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_precipitation</span>(duckdb_con)</span>
<span id="cb12-431"><a href="#cb12-431" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-432"><a href="#cb12-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-435"><a href="#cb12-435" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-436"><a href="#cb12-436" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "fig-wind_rose"</span></span>
<span id="cb12-437"><a href="#cb12-437" aria-hidden="true" tabindex="-1"></a><span class="co">#| lightbox: </span></span>
<span id="cb12-438"><a href="#cb12-438" aria-hidden="true" tabindex="-1"></a><span class="co">#|   group: weather</span></span>
<span id="cb12-439"><a href="#cb12-439" aria-hidden="true" tabindex="-1"></a><span class="co">#|   description: "Wind direction and speed." </span></span>
<span id="cb12-440"><a href="#cb12-440" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Wind Rose"</span></span>
<span id="cb12-441"><a href="#cb12-441" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb12-442"><a href="#cb12-442" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-443"><a href="#cb12-443" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb12-444"><a href="#cb12-444" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_wind_rose_ggplot</span>(duckdb_con)</span>
<span id="cb12-445"><a href="#cb12-445" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-446"><a href="#cb12-446" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb12-447"><a href="#cb12-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-448"><a href="#cb12-448" aria-hidden="true" tabindex="-1"></a>@fig-weather</span>
<span id="cb12-449"><a href="#cb12-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-450"><a href="#cb12-450" aria-hidden="true" tabindex="-1"></a>@fig-weather_codes</span>
<span id="cb12-451"><a href="#cb12-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-452"><a href="#cb12-452" aria-hidden="true" tabindex="-1"></a>@fig-temperature_freezing</span>
<span id="cb12-453"><a href="#cb12-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-454"><a href="#cb12-454" aria-hidden="true" tabindex="-1"></a>@fig-visibility_km</span>
<span id="cb12-455"><a href="#cb12-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-456"><a href="#cb12-456" aria-hidden="true" tabindex="-1"></a>@fig-visibility_categories</span>
<span id="cb12-457"><a href="#cb12-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-458"><a href="#cb12-458" aria-hidden="true" tabindex="-1"></a>@fig-precipitation</span>
<span id="cb12-459"><a href="#cb12-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-460"><a href="#cb12-460" aria-hidden="true" tabindex="-1"></a>@fig-wind_rose</span>
<span id="cb12-461"><a href="#cb12-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-462"><a href="#cb12-462" aria-hidden="true" tabindex="-1"></a><span class="fu">## Disconnect From Databases</span></span>
<span id="cb12-463"><a href="#cb12-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-464"><a href="#cb12-464" aria-hidden="true" tabindex="-1"></a>::: code-fold-flex</span>
<span id="cb12-467"><a href="#cb12-467" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-468"><a href="#cb12-468" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "dbDisconnect"</span></span>
<span id="cb12-469"><a href="#cb12-469" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Dereference memory from the in-memory database connections."</span></span>
<span id="cb12-470"><a href="#cb12-470" aria-hidden="true" tabindex="-1"></a><span class="co">#| </span></span>
<span id="cb12-471"><a href="#cb12-471" aria-hidden="true" tabindex="-1"></a><span class="co">#dbDisconnect(mssql_con)</span></span>
<span id="cb12-472"><a href="#cb12-472" aria-hidden="true" tabindex="-1"></a><span class="fu">dbDisconnect</span>(duckdb_con)</span>
<span id="cb12-473"><a href="#cb12-473" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-474"><a href="#cb12-474" aria-hidden="true" tabindex="-1"></a>:::</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>